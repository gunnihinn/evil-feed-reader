<?xml version='1.0' encoding='UTF-8'?><?xml-stylesheet href="http://www.blogger.com/styles/atom.css" type="text/css"?><feed xmlns='http://www.w3.org/2005/Atom' xmlns:openSearch='http://a9.com/-/spec/opensearchrss/1.0/' xmlns:blogger='http://schemas.google.com/blogger/2008' xmlns:georss='http://www.georss.org/georss' xmlns:gd="http://schemas.google.com/g/2005" xmlns:thr='http://purl.org/syndication/thread/1.0'><id>tag:blogger.com,1999:blog-37798047</id><updated>2017-08-11T03:11:38.337-04:00</updated><category term="Apple"/><category term="humor"/><category term="NSA"/><category term="Microsoft"/><category term="CFAA"/><category term="0day"/><category term="masscan"/><category term="LookingGlass"/><category term="weev"/><category term="wifi"/><category term="HEV"/><category term="snowden"/><category term="C10M"/><category term="bitcoin"/><category term="AxBan"/><category term="Ferret"/><category term="cyberwar"/><category term="password"/><category term="#Anonymous"/><category term="Blackhat"/><category term="SDLC"/><category term="TwiGUARD"/><category term="Twitter"/><category term="crack"/><category term="iPhone"/><category term="law"/><category term="IDS"/><category term="NetNeutrality"/><category term="SQL injection"/><category term="crypto"/><category term="malware"/><category term="net neutrality"/><category term="Cisco"/><category term="EFF"/><category term="Metasploit"/><category term="OSX"/><category term="Occupy Wall Street"/><category term="ProtoDev"/><category term="Shmoocon2013"/><category term="TSA"/><category term="Vendor of the Week"/><category term="XKeyScore"/><category term="blog"/><category term="clichÃ©"/><category term="deep inspection"/><category term="election"/><category term="random"/><category term="troll"/><category term="Alfa Bank"/><category term="Legacy negligence"/><category term="RSA"/><category term="Russia"/><category term="Tor"/><category term="Trump"/><category term="Trump Orgainzation"/><category term="anti-virus"/><category term="bugs"/><category term="comodo"/><category term="comodogate"/><category term="fbi"/><category term="heartbleed"/><category term="netbook"/><category term="swartz"/><category term="virus"/><category term="wikileaks"/><category term="#glass"/><category term="Anonymous"/><category term="DRM"/><category term="Errata"/><category term="Facebook"/><category term="GPU"/><category term="Orwell"/><category term="Ruby"/><category term="Silicon Snake Oil"/><category term="Solaris"/><category term="TV"/><category term="activism"/><category term="code"/><category term="cracking"/><category term="dorks"/><category term="economics"/><category term="global warming"/><category term="google"/><category term="groupthink"/><category term="hacking"/><category term="identity theft"/><category term="journalism"/><category term="movies"/><category term="myth"/><category term="shellshock"/><category term="sidejacking"/><category term="survey"/><category term="#BSidesATL"/><category term="60minutes"/><category term="ASLR"/><category term="Books"/><category term="CCC"/><category term="CISSP"/><category term="DNS"/><category term="FCC"/><category term="George Ou"/><category term="Hacker Eye View"/><category term="Laws that are bad ideas"/><category term="Manning"/><category term="NAISG"/><category term="NAS"/><category term="PWN2OWN"/><category term="Snort"/><category term="Sony"/><category term="Toorcon"/><category term="United Nations"/><category term="Windows Mobile"/><category term="aaron"/><category term="certification"/><category term="cloud"/><category term="cyberterrorism"/><category term="data plane"/><category term="ethics"/><category term="exploit"/><category term="firefox"/><category term="free speech"/><category term="funny"/><category term="hamster"/><category term="intellectual property"/><category term="kindle"/><category term="leak"/><category term="lulzsec"/><category term="mozilla"/><category term="musings"/><category term="nerd"/><category term="news"/><category term="oath"/><category term="openssl"/><category term="patents"/><category term="pentest"/><category term="raspberry pi"/><category term="research"/><category term="reverse engineering"/><category term="review"/><category term="rights"/><category term="scada"/><category term="scalability"/><category term="sniffing"/><category term="software assurance"/><category term="sucks"/><category term="superfish"/><category term="technology"/><category term="tools"/><category term="twinkles"/><category term="vulnerability disclosure"/><category term="xmas"/><category term="#BSidesLV"/><category term="#BSidesSF"/><category term="#attorneyclient"/><category term="#breakingin"/><category term="#corporate"/><category term="#drones"/><category term="#legal"/><category term="#siliconvalley"/><category term="#spygate"/><category term="#startup"/><category term="3DES"/><category term="ARGs"/><category term="ATHF"/><category term="Adobe"/><category term="Andy Warhol"/><category term="BIOS"/><category term="Barbie"/><category term="Benzene"/><category term="Bitlocker"/><category term="BlackICE"/><category term="Blackberry"/><category term="Bratz"/><category term="Breaking in"/><category term="CIA"/><category term="CISA"/><category term="CPU"/><category term="CanSecWest"/><category term="Chinese hackers"/><category term="Christmas"/><category term="Comcast"/><category term="Communications Act of 1934"/><category term="DLL"/><category term="FOIA"/><category term="GNU"/><category term="GPS spoofing"/><category term="Guns"/><category term="Hacker"/><category term="Internet"/><category term="Ironport"/><category term="JavaScript"/><category term="Kindle Fire"/><category term="MAPP"/><category term="MMORPG"/><category term="MSCHAPv2"/><category term="Mac Pro"/><category term="MacAfee"/><category term="McAfee"/><category term="Mirai"/><category term="Myspace"/><category term="NAC"/><category term="NASCAR"/><category term="NDAA"/><category term="Neo"/><category term="NodeJS"/><category term="North Korea"/><category term="OS/2"/><category term="Oakley"/><category term="Operation Global Blackout"/><category term="Oracle"/><category term="Oreilly"/><category term="PF_RING"/><category term="PayPal"/><category term="PoC"/><category term="Profile Spy"/><category term="Quicktime"/><category term="RAID"/><category term="RSP"/><category term="Radio"/><category term="Ranum"/><category term="Reality Leigh Winner"/><category term="Rogue"/><category term="SANs"/><category term="SMS"/><category term="SOPA"/><category term="Safari"/><category term="SecTor"/><category term="Signature List"/><category term="Street View"/><category term="Summercon"/><category term="Symbian"/><category term="TV show"/><category term="Target"/><category term="Terminator"/><category term="The Intercept"/><category term="The Matrix"/><category term="The end of the cyber world"/><category term="USRP"/><category term="WabiSabiLabi"/><category term="WinNT"/><category term="Windows 7"/><category term="Yahoo"/><category term="active defense"/><category term="amazon"/><category term="amazon ec2"/><category term="analogies"/><category term="anonymous sources"/><category term="anti-vax"/><category term="atom"/><category term="attribation"/><category term="attribution"/><category term="aws"/><category term="backtrack"/><category term="bad bloggers"/><category term="badge"/><category term="bash"/><category term="beta"/><category term="bilski"/><category term="bizzaro world"/><category term="bluehat"/><category term="bluetooth"/><category term="botnet"/><category term="breach"/><category term="bully"/><category term="business"/><category term="cablegate"/><category term="captcha"/><category term="careers"/><category term="certificate"/><category term="chumby"/><category term="cliche"/><category term="coffee"/><category term="collateral murder"/><category term="comedy"/><category term="conspiracy theories"/><category term="cookies"/><category term="crazy"/><category term="creationism"/><category term="cyberpunk"/><category term="cyberweapons"/><category term="darkreading"/><category term="database"/><category term="deep knowledge"/><category term="defcon"/><category term="denier"/><category term="detained"/><category term="dictionary"/><category term="disarmament"/><category term="dm1z"/><category term="down twinkles"/><category term="drama"/><category term="echelon"/><category term="email"/><category term="employment agreement"/><category term="encryption"/><category term="entertainment"/><category term="evasion"/><category term="events with wifi"/><category term="evolution"/><category term="exploit sales"/><category term="fame"/><category term="fascism"/><category term="firewall"/><category term="freakonomics"/><category term="ftc"/><category term="fuzzing"/><category term="games"/><category term="guru"/><category term="hack back"/><category term="hacker tool"/><category term="hacktivism"/><category term="hurricane"/><category term="iPad"/><category term="ida pro"/><category term="infrared"/><category term="intelligent design"/><category term="interesting"/><category term="internships"/><category term="intresting"/><category term="invention"/><category term="invisibility cloaks"/><category term="iptables"/><category term="iran"/><category term="jokes"/><category term="kerb"/><category term="legal"/><category term="minigubs"/><category term="misconceptions"/><category term="mitm"/><category term="mobile"/><category term="multi-core"/><category term="nginx"/><category term="ninja"/><category term="nmap"/><category term="obama"/><category term="open-source"/><category term="party"/><category term="performance"/><category term="phishing"/><category term="phones"/><category term="policy"/><category term="politics"/><category term="populism"/><category term="port scan"/><category term="process"/><category term="propaganda"/><category term="pundits"/><category term="red flags rule"/><category term="redacted document"/><category term="responsible disclosure"/><category term="risk"/><category term="risk analysis"/><category term="robert khan"/><category term="rootkit"/><category term="roundup"/><category term="rvm"/><category term="sabu"/><category term="salt"/><category term="science"/><category term="sdl"/><category term="seattle"/><category term="sellout"/><category term="sexism"/><category term="shodan"/><category term="shout hacking"/><category term="shows"/><category term="simpsons"/><category term="sniffer"/><category term="social engineering"/><category term="software defined networks"/><category term="software patents"/><category term="spam"/><category term="spoofing"/><category term="sprint"/><category term="spygate"/><category term="ssh"/><category term="ssl"/><category term="startups"/><category term="steganography"/><category term="supreme court"/><category term="surveillance"/><category term="tape"/><category term="telnet"/><category term="testing"/><category term="tldr"/><category term="tradeoffs"/><category term="truther"/><category term="unmanned systems"/><category term="unsafe clib"/><category term="vapid populists"/><category term="vint cerf"/><category term="virtualization"/><category term="vista"/><category term="vuln"/><category term="vulnerability market"/><category term="war on hackers"/><category term="wassenaar"/><category term="wget"/><category term="white-hat"/><category term="wizards"/><category term="worm"/><category term="wrong"/><category term="x86"/><title type='text'>Errata Security</title><subtitle type='html'>Advanced persistent cybersecurity</subtitle><link rel='http://schemas.google.com/g/2005#feed' type='application/atom+xml' href='http://blog.erratasec.com/feeds/posts/default'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/'/><link rel='hub' href='http://pubsubhubbub.appspot.com/'/><link rel='next' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default?start-index=26&amp;max-results=25'/><author><name>David Maynor</name><uri>http://www.blogger.com/profile/09921229607193067441</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='16' height='16' src='https://img1.blogblog.com/img/b16-rounded.gif'/></author><generator version='7.00' uri='http://www.blogger.com'>Blogger</generator><openSearch:totalResults>1088</openSearch:totalResults><openSearch:startIndex>1</openSearch:startIndex><openSearch:itemsPerPage>25</openSearch:itemsPerPage><entry><id>tag:blogger.com,1999:blog-37798047.post-5855963506777744383</id><published>2017-08-06T21:30:00.004-04:00</published><updated>2017-08-06T21:31:52.484-04:00</updated><title type='text'>Query name minimization</title><content type='html'>One new thing you need to add your DNS security policies is &quot;query name minimizations&quot; (&lt;a href=&quot;https://tools.ietf.org/html/rfc7816&quot;&gt;RFC 7816&lt;/a&gt;). I thought I&#39;d mention it since many haven&#39;t heard about it.&lt;br /&gt;&lt;br /&gt;Right now, when DNS resolvers lookup a name like &quot;www.example.com.&quot;, they send the entire name to the root server (like &lt;i&gt;a.root-servers.net.&lt;/i&gt;). When it gets back the answer to the .com DNS server &lt;i&gt;a.gtld-servers.net&lt;/i&gt;), it then resends the full &quot;www.example.com&quot; query to that server.&lt;br /&gt;&lt;br /&gt;This is obviously unnecessary. The first query should be just &lt;i&gt;.com.&lt;/i&gt;&amp;nbsp;to the root server, then &lt;i&gt;example.com.&lt;/i&gt;&amp;nbsp;to the next server -- the minimal amount needed for each query, not the full query.&lt;br /&gt;&lt;br /&gt;The reason this is important is that everyone is listening in on root name server queries. Universities and independent researchers do this to maintain the DNS system, and to track malware. Security companies do this also to track malware, bots, command-and-control channels, and so forth. The world&#39;s biggest spy agencies do this in order just to spy on people. Minimizing your queries prevents them from spying on you.&lt;br /&gt;&lt;br /&gt;An example where this is important is that story of lookups from AlfaBank in Russia for &quot;mail1.trump-emails.com&quot;. Whatever you think of Trump, this was an improper invasion of privacy, where DNS researchers misused their privileged access in order to pursue their anti-Trump political agenda. If AlfaBank had used query name minimization, none of this would have happened.&lt;br /&gt;&lt;br /&gt;It&#39;s also critical for not exposing internal resources. Even when you do &quot;split DNS&quot;, when the .com record expires, you resolver will still forward the internal DNS record to the outside world. All those Russian hackers can map out the internal names of your network simply by eavesdropping on root server queries.&lt;br /&gt;&lt;br /&gt;Servers that support this are Knot resolver and Unbound 1.5.7+ and possibly others. It&#39;s a relatively new standard, so it make take a while for other DNS servers to support this.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/5855963506777744383/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=5855963506777744383' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/5855963506777744383'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/5855963506777744383'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/08/query-name-minimization.html' title='Query name minimization'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-173324754003837704</id><published>2017-07-31T21:16:00.002-04:00</published><updated>2017-08-01T09:45:28.113-04:00</updated><title type='text'>Top 10 Most Obvious Hacks of All Time (v0.9)</title><content type='html'>For teaching hacking/cybersecurity, I thought I&#39;d create of the most obvious&amp;nbsp;hacks of all time. Not the best hacks, the most sophisticated hacks, or the hacks with the biggest impact, but the most &lt;i&gt;obvious&lt;/i&gt;&amp;nbsp;hacks -- ones that even the least knowledgeable among us should be able to understand. Below I propose some hacks that fit this bill, though in no particular order.&lt;br /&gt;&lt;br /&gt;The reason I&#39;m writing this is that my niece wants me to teach her some hacking. I thought I&#39;d start with the obvious stuff first.&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;&lt;h3&gt;Shared Passwords&lt;/h3&gt;If you use the same password for every website, and one of those websites gets hacked, then the hacker has your password for all your websites. The reason your Facebook account got hacked wasn&#39;t because of anything Facebook did, but because you used the same email-address and password when creating an account on &quot;beagleforums.com&quot;, which got hacked last year.&lt;br /&gt;&lt;br /&gt;I&#39;ve heard people say &quot;I&#39;m sure, because I choose a complex password and use it everywhere&quot;. No, this is the very worst thing you can do. Sure, you can the use the same password on all sites you don&#39;t care much about, but for Facebook, your email account, and your bank, you should have a unique password, so that when other sites get hacked, your important sites are secure.&lt;br /&gt;&lt;br /&gt;And yes, it&#39;s okay to write down your passwords on paper.&lt;br /&gt;&lt;br /&gt;Tools: &lt;a href=&quot;http://haveibeenpwned.com/&quot;&gt;HaveIBeenPwned.com&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;PIN encrypted PDFs&lt;/h3&gt;&lt;div&gt;My accountant emails PDF statements encrypted with the last 4 digits of my Social Security Number. This is not encryption -- a 4 digit number has only 10,000 combinations, and a hacker can guess all of them in seconds.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;PIN numbers for ATM cards work because ATM machines are &lt;i&gt;online&lt;/i&gt;, and the machine can reject your card after four guesses. PIN numbers don&#39;t work for documents, because they are offline -- the hacker has a copy of the document on their own machine, disconnected from the Internet, and can continue making bad guesses with no restrictions.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Passwords protecting documents must be long enough that even trillion upon trillion guesses are insufficient to guess.&lt;br /&gt;&lt;br /&gt;Tools: &lt;a href=&quot;https://hashcat.net/hashcat/&quot;&gt;Hashcat&lt;/a&gt;, &lt;a href=&quot;https://blog.didierstevens.com/2015/04/15/pdf-password-cracking-with-john-the-ripper/&quot;&gt;John the Ripper&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;SQL and other injection&lt;/h3&gt;&lt;div&gt;The lazy way of combining websites with databases is to combine user input with an SQL statement. This combines code with data, so the obvious consequence is that hackers can craft data to mess with the code.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;No, this isn&#39;t obvious to the general public, but it should be obvious to programmers. The moment you write code that adds unfiltered user-input to an SQL statement, the consequence should be obvious. Yet, &quot;SQL injection&quot; has remained one of the most effective hacks for the last 15 years because somehow programmers don&#39;t understand the consequence.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;CGI shell injection is a similar issue. Back in early days, when &quot;CGI scripts&quot; were a thing, it was really important, but these days, not so much, so I just included it with SQL. The consequence of executing shell code should&#39;ve been obvious, but weirdly, it wasn&#39;t. The IT guy at the company I worked for back in the late 1990s came to me and asked &quot;this guy says we have a vulnerability, is he full of shit?&quot;, and I had to answer &quot;no, he&#39;s right -- obviously so&quot;.&lt;br /&gt;&lt;br /&gt;XSS (&quot;Cross Site Scripting&quot;) [&lt;a href=&quot;https://twitter.com/attritionorg/status/892227626101690368&quot;&gt;*&lt;/a&gt;] is another injection issue, but this time at somebody&#39;s web browser rather than a server. It works because websites will echo back what is sent to them. For example, if you search for Cross Site Scripting with the URL&amp;nbsp;&lt;a href=&quot;https://www.google.com/search?q=cross+site+scripting&quot;&gt;https://www.google.com/search?q=cross+site+scripting&lt;/a&gt;, then you&#39;ll get a page back from the server that contains that string. If the string is JavaScript code rather than text, then some servers (thought not Google) send back the code in the page in a way that it&#39;ll be executed. This is most often used to hack somebody&#39;s account: you send them an email or tweet a link, and when they click on it, the JavaScript gives control of the account to the hacker.&lt;br /&gt;&lt;br /&gt;Cross site injection issues like this should probably be their own category, but I&#39;m including it here for now.&lt;br /&gt;&lt;br /&gt;More: Wikipedia on &lt;a href=&quot;https://en.wikipedia.org/wiki/SQL_injection&quot;&gt;SQL injection&lt;/a&gt;, Wikipedia on &lt;a href=&quot;https://en.wikipedia.org/wiki/Cross-site_scripting&quot;&gt;cross site scripting&lt;/a&gt;.&lt;br /&gt;Tools: &lt;a href=&quot;https://portswigger.net/burp/&quot;&gt;Burpsuite&lt;/a&gt;, &lt;a href=&quot;http://sqlmap.org/&quot;&gt;SQLmap&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Buffer overflows&lt;/h3&gt;&lt;div&gt;In the C programming language, programmers first create a buffer, then read input into it. If input is long than the buffer, then it overflows. The extra bytes overwrite other parts of the program, letting the hacker run code.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Again, it&#39;s not a thing the general public is expected to know about, but is instead something C programmers should be expected to understand. They should know that it&#39;s up to them to check the length and stop reading input before it overflows the buffer, that there&#39;s no language feature that takes care of this for them.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;We are three decades after the first major buffer overflow exploits, so there is no excuse for C programmers not to understand this issue.&lt;br /&gt;&lt;br /&gt;What makes particular obvious is the way they are wrapped in exploits, like in Metasploit. While the bug itself is obvious that it&#39;s a bug, actually exploiting it can take some very non-obvious skill. However, once that exploit is written, any trained monkey can press a button and run the exploit. That&#39;s where we get the insult &quot;script kiddie&quot; from -- referring to wannabe-hackers who never learn enough to write their own exploits, but who spend a lot of time running the exploit scripts written by better hackers than they.&lt;br /&gt;&lt;br /&gt;More: Wikipedia on &lt;a href=&quot;https://en.wikipedia.org/wiki/Buffer_overflow&quot;&gt;buffer overflow&lt;/a&gt;, Wikipedia on &lt;a href=&quot;https://en.wikipedia.org/wiki/Script_kiddie&quot;&gt;script kiddie&lt;/a&gt;, &amp;nbsp;&quot;&lt;a href=&quot;http://phrack.org/issues/49/14.html&quot;&gt;Smashing The Stack For Fun And Profit&lt;/a&gt;&quot; -- Phrack (1996)&lt;br /&gt;Tools: bash, Metasploit&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;SendMail DEBUG command (historical)&lt;/h3&gt;&lt;div&gt;The first popular email server in the 1980s was called &quot;SendMail&quot;. It had a feature whereby if you send a &quot;DEBUG&quot; command to it, it would execute any code following the command. The consequence of this was obvious -- hackers could (and did) upload code to take control of the server. This was used in the Morris Worm of 1988. Most Internet machines of the day ran SendMail, so the worm spread fast infecting most machines.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;This bug was mostly ignored at the time. It was thought of as a theoretical problem, that might only rarely be used to hack a system. Part of the motivation of the Morris Worm was to demonstrate that such problems was to demonstrate the consequences -- consequences that should&#39;ve been obvious but somehow were rejected by everyone.&lt;br /&gt;&lt;br /&gt;More: Wikipedia on &lt;a href=&quot;https://en.wikipedia.org/wiki/Morris_worm&quot;&gt;Morris Worm&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Email Attachments/Links&lt;/h3&gt;&lt;div&gt;I&#39;m conflicted whether I should add this or not, because here&#39;s the deal: you are &lt;i&gt;supposed to&lt;/i&gt;&amp;nbsp;click on attachments and links within emails. That&#39;s what they are there for. The difference between good and bad attachments/links is &lt;i&gt;not obvious&lt;/i&gt;. Indeed, easy-to-use email systems makes detecting the difference harder.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;On the other hand, the &lt;i&gt;consequences&lt;/i&gt; of bad attachments/links is obvious. That worms like ILOVEYOU spread so easily is because people trusted attachments coming from their friends, and ran them.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;We have no solution to the problem of bad email attachments and links. Viruses and phishing are pervasive problems. Yet, we know why they exist.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Default and backdoor passwords&lt;/h3&gt;&lt;div&gt;The Mirai botnet was caused by surveillance-cameras having default and backdoor passwords, and being exposed to the Internet without a firewall. The consequence should be obvious: people will discover the passwords and use them to take control of the bots.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Surveillance-cameras have the problem that they are usually exposed to the public, and can&#39;t be reached without a ladder -- often a really tall ladder. Therefore, you don&#39;t want a button consumers can press to reset to factory defaults. You want a remote way to reset them. Therefore, they put backdoor passwords to do the reset. Such passwords are easy for hackers to reverse-engineer, and hence, take control of millions of cameras across the Internet.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The same reasoning applies to &quot;default&quot; passwords. Many users will not change the defaults, leaving a ton of devices hackers can hack.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Masscan and background radiation of the Internet&lt;/h3&gt;&lt;div&gt;I&#39;ve written a tool that can easily scan the &lt;i&gt;entire&lt;/i&gt;&amp;nbsp;Internet in a short period of time. It surprises people that this possible, but it obvious from the numbers. Internet addresses are only 32-bits long, or roughly 4 billion combinations. A fast Internet link can easily handle 1 million packets-per-second, so the entire Internet can be scanned in 4000 seconds, little more than an hour. It&#39;s basic math.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Because it&#39;s so easy, many people do it. If you monitor your Internet link, you&#39;ll see a steady trickle of packets coming in from all over the Internet, especially Russia and China, from hackers scanning the Internet for things they can hack.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;People&#39;s reaction to this scanning is weirdly emotional, taking is personally, such as:&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;Why are they hacking me? What did I do to them?&lt;/li&gt;&lt;li&gt;Great! They are hacking me! That must mean I&#39;m important!&lt;/li&gt;&lt;li&gt;Grrr! How dare they?! How can I hack them back for some retribution!?&lt;/li&gt;&lt;/ol&gt;I find this odd, because obviously such scanning isn&#39;t personal, the hackers have no idea who you are.&lt;br /&gt;&lt;br /&gt;Tools: &lt;a href=&quot;https://github.com/robertdavidgraham/masscan&quot;&gt;masscan&lt;/a&gt;, firewalls&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Packet-sniffing, sidejacking&lt;/h3&gt;If you connect to the Starbucks WiFi, a hacker nearby can easily eavesdrop on your network traffic, because it&#39;s not encrypted. Windows even warns you about this, in case you weren&#39;t sure.&lt;br /&gt;&lt;br /&gt;At DefCon, they have a &quot;Wall of Sheep&quot;, where they show passwords from people who logged onto stuff using the insecure &quot;DefCon-Open&quot; network. Calling them &quot;sheep&quot; for not grasping this basic fact that unencrypted traffic is unencrypted.&lt;br /&gt;&lt;br /&gt;To be fair, it&#39;s actually non-obvious to many people. Even if the WiFi itself is not encrypted, SSL traffic is. They expect their services to be encrypted, without them having to worry about it. And in fact, most are, especially Google, Facebook, Twitter, Apple, and other major services that won&#39;t allow you to log in anymore without encryption.&lt;br /&gt;&lt;br /&gt;But many services (especially old ones) may not be encrypted. Unless users check and verify them carefully, they&#39;ll happily expose passwords.&lt;br /&gt;&lt;br /&gt;What&#39;s interesting about this was 10 years ago, when most services which only used SSL to encrypt the passwords, but then used unencrypted connections after that, using &quot;cookies&quot;. This allowed the cookies to be sniffed and stolen, allowing other people to share the login session. I used this on stage at BlackHat to connect to somebody&#39;s GMail session. Google, and other major websites, fixed this soon after. But it should never have been a problem -- because the sidejacking of cookies should have been &lt;i&gt;obvious&lt;/i&gt;.&lt;br /&gt;&lt;br /&gt;Tools: Wireshark, dsniff&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Stuxnet LNK vulnerability&lt;/h3&gt;&lt;div&gt;Again, this issue isn&#39;t obvious to the public, but it should&#39;ve been obvious to anybody who knew how Windows works.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;When Windows loads a .dll, it first calls the function DllMain(). A Windows link file (.lnk) can load icons/graphics from the resources in a .dll file. It does this by loading the .dll file, thus calling DllMain. Thus, a hacker could put on a USB drive a .lnk file pointing to a .dll file, and thus, cause arbitrary code execution as soon as a user inserted a drive.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I say this is obvious because I did this, created .lnks that pointed to .dlls, but without hostile DllMain code. The consequence should&#39;ve been obvious to me, but I totally missed the connection. We all missed the connection, for decades.&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Social Engineering and Tech Support [* * *]&lt;/h3&gt;After posting this, many people have pointed out &quot;social engineering&quot;, especially of &quot;tech support&quot;. This probably should be up near #1 in terms of obviousness.&lt;br /&gt;&lt;br /&gt;The classic example of social engineering is when you call tech support and tell them you&#39;ve lost your password, and they reset it for you with minimum of questions proving who you are. For example, you set the volume on your computer really loud and play the sound of a crying baby in the background and appear to be a bit frazzled and incoherent, which explains why you aren&#39;t answering the questions they are asking. They, understanding your predicament as a new parent, will go the extra mile in helping you, resetting &quot;your&quot; password.&lt;br /&gt;&lt;br /&gt;One of the interesting consequences is how it affects domain names (DNS). It&#39;s quite easy in many cases to call up the registrar and convince them to transfer a domain name. This has been used in lots of hacks. It&#39;s really hard to defend against. If a registrar charges only $9/year for a domain name, then it really can&#39;t afford to provide very good tech support -- or very secure tech support -- to prevent this sort of hack.&lt;br /&gt;&lt;br /&gt;Social engineering is such a huge problem, and obvious problem, that it&#39;s outside the scope of this document. Just google it to find example after example.&lt;br /&gt;&lt;br /&gt;A related issue that perhaps deserves it&#39;s own section is OSINT [*], or &quot;open-source intelligence&quot;, where you gather public information about a target. For example, on the day the bank manager is out on vacation (which you got from their Facebook post) you show up and claim to be a bank auditor, and are shown into their office where you grab their backup tapes. (We&#39;ve actually done this).&lt;br /&gt;&lt;br /&gt;More: Wikipedia on &lt;a href=&quot;https://en.wikipedia.org/wiki/Social_engineering_(security)&quot;&gt;Social Engineering&lt;/a&gt;, Wikipedia on &lt;a href=&quot;https://en.wikipedia.org/wiki/Open-source_intelligence&quot;&gt;OSINT&lt;/a&gt;, &quot;&lt;a href=&quot;https://www.social-engineer.org/general-blog/how-i-won-the-defcon-social-engineering-ctf/&quot;&gt;How I Won the Defcon Social Engineering CTF&lt;/a&gt;&quot; -- blogpost (2011), &quot;&lt;a href=&quot;https://bsideslv2016.sched.com/event/7Vhs/questioning-42-where-is-the-engineering-in-the-social-engineering-of-namespace-compromises?iframe=no&amp;amp;w=&amp;amp;sidebar=no&amp;amp;bg=dark&quot;&gt;Questioning 42: Where&#39;s the Engineering in Social Engineering of Namespace Compromises&lt;/a&gt;&quot; -- BSidesLV talk (2016)&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Blue-boxes (historical) [&lt;a href=&quot;https://twitter.com/bonsaiviking/status/892213599640465408&quot;&gt;*&lt;/a&gt;]&lt;/h3&gt;&lt;/div&gt;Telephones historically used what we call &quot;in-band signaling&quot;. That&#39;s why when you dial on an old phone, it makes sounds -- those sounds are sent no differently than the way your voice is sent. Thus, it was possible to make tone generators to do things other than simply dial calls. Early hackers (in the 1970s) would make tone-generators called &quot;blue-boxes&quot; and &quot;black-boxes&quot; to make free long distance calls, for example.&lt;br /&gt;&lt;br /&gt;These days, &quot;signaling&quot; and &quot;voice&quot; are digitized, then sent as separate channels or &quot;bands&quot;. This is call &quot;out-of-band signaling&quot;. You can&#39;t trick the phone system by generating tones. When your iPhone makes sounds when you dial, it&#39;s entirely for you benefit and has nothing to do with how it signals the cell tower to make a call.&lt;br /&gt;&lt;br /&gt;Early hackers, like the founders of Apple, are famous for having started their careers making such &quot;boxes&quot; for tricking the phone system. The problem was obvious back in the day, which is why as the phone system moves from analog to digital, the problem was fixed.&lt;br /&gt;&lt;br /&gt;More: Wikipedia on &lt;a href=&quot;https://en.wikipedia.org/wiki/Blue_box&quot;&gt;blue box&lt;/a&gt;, Wikipedia article on &lt;a href=&quot;https://en.wikipedia.org/wiki/Steve_Wozniak&quot;&gt;Steve Wozniak&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Thumb drives in parking lots [&lt;a href=&quot;https://twitter.com/Acaila/status/892198089607348226&quot;&gt;*&lt;/a&gt;]&lt;/h3&gt;A simple trick is to put a virus on a USB flash drive, and drop it in a parking lot. Somebody is bound to notice it, stick it in their computer, and open the file.&lt;br /&gt;&lt;br /&gt;This can be extended with tricks. For example, you can put a file labeled &quot;third-quarter-salaries.xlsx&quot; on the drive that required macros to be run in order to open. It&#39;s irresistible to other employees who want to know what their peers are being paid, so they&#39;ll bypass any warning prompts in order to see the data.&lt;br /&gt;&lt;br /&gt;Another example is to go online and get custom USB sticks made printed with the logo of the target company, making them seem more trustworthy.&lt;br /&gt;&lt;br /&gt;We also did a trick of taking an Adobe Flash game &quot;Punch the Monkey&quot; and replaced the monkey with a logo of a competitor of our target. They now only played the game (infecting themselves with our virus), but gave to others inside the company to play, infecting others, including the CEO.&lt;br /&gt;&lt;br /&gt;Thumb drives like this have been used in many incidents, such as &lt;a href=&quot;http://www.businessinsider.com/russia-planted-bugged-thumb-drives-to-break-into-us-govt-computers-2017-3&quot;&gt;Russians hacking military headquarters in Afghanistan&lt;/a&gt;. It&#39;s really hard to defend against.&lt;br /&gt;&lt;br /&gt;More: &quot;&lt;a href=&quot;https://www.usnews.com/news/iraq/articles/2008/11/28/computer-virus-hits-us-military-base-in-afghanistan&quot;&gt;Computer Virus Hits U.S. Military Base in Afghanistan&lt;/a&gt;&quot; -- USNews (2008), &quot;&lt;a href=&quot;https://www.wired.com/2011/12/worm-pentagon/&quot;&gt;The Return of the Worm That Ate The Pentagon&lt;/a&gt;&quot; -- Wired (2011), &lt;a href=&quot;https://www.stripes.com/news/dod-bans-the-use-of-removable-flash-type-drives-on-all-government-computers-1.85514&quot;&gt;DoD Bans Flash Drives&lt;/a&gt; -- Stripes (2008)&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Googling [&lt;a href=&quot;https://twitter.com/AMShea/status/892220802925568000&quot;&gt;*&lt;/a&gt;]&lt;/h3&gt;&lt;div&gt;Search engines like Google will index your website -- your &lt;i&gt;entire&lt;/i&gt;&amp;nbsp;website. Frequently companies put things on their website without much protection because they are nearly impossible for users to find. But Google finds them, then indexes them, causing them to pop up with innocent searches.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;There are books written on &quot;Google hacking&quot; explaining what search terms to look for, like &quot;not for public release&quot;, in order to find such documents.&lt;br /&gt;&lt;br /&gt;More: Wikipedia entry on &lt;a href=&quot;https://en.wikipedia.org/wiki/Google_hacking&quot;&gt;Google Hacking&lt;/a&gt;, &quot;&lt;a href=&quot;https://www.amazon.com/dp/1931836361/&quot;&gt;Google Hacking&lt;/a&gt;&quot; book.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;URL editing [&lt;a href=&quot;https://twitter.com/AMShea/status/892220802925568000&quot;&gt;*&lt;/a&gt;]&lt;/h3&gt;&lt;div&gt;At the top of every browser is what&#39;s called the &quot;URL&quot;. You can change it. Thus, if you see a URL that looks like this:&lt;/div&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;http://www.example.com/documents?id=138493&lt;/blockquote&gt;&lt;div&gt;Then you can edit it to see the next document on the server:&lt;/div&gt;&lt;div&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;http://www.example.com/documents?id=13849&lt;b&gt;4&lt;/b&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;The owner of the website may think they are secure, because nothing points to this document, so the Google search won&#39;t find it. But that doesn&#39;t stop a user from manually editing the URL.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;An example of this is a big Fortune 500 company that posts the quarterly results to the website an hour before the official announcement. Simply editing the URL from previous financial announcements allows hackers to find the document, then buy/sell the stock as appropriate in order to make a lot of money.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Another example is the classic case of Andrew &quot;Weev&quot; Auernheimer who did this trick in order to download the account email addresses of early owners of the iPad, including movie stars and members of the Obama administration. It&#39;s an interesting legal case because on one hand, techies consider this so obvious as to &lt;i&gt;not&lt;/i&gt;&amp;nbsp;be &quot;hacking&quot;. On the other hand, non-techies, especially judges and prosecutors, believe this to be obviously &quot;hacking&quot;.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;h3&gt;DDoS, spoofing, and amplification [&lt;a href=&quot;https://twitter.com/jnettesheim/status/892229280754614274&quot;&gt;*&lt;/a&gt;]&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;For decades now, online gamers have figured out an easy way to win: just flood the opponent with Internet traffic, slowing their network connection. This is called a DoS, which stands for &quot;Denial of Service&quot;. DoSing game competitors is often a teenager&#39;s first foray into hacking.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;A variant of this is when you hack a bunch of other machines on the Internet, then command them to flood your target. (The hacked machines are often called a &quot;botnet&quot;, a network of robot computers). This is called DDoS, or &quot;Distributed DoS&quot;. At this point, it gets quite serious, as instead of competitive gamers hackers can take down entire businesses. Extortion scams, DDoSing websites then demanding payment to stop, is a common way hackers earn money.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Another form of DDoS is &quot;amplification&quot;. Sometimes when you send a packet to a machine on the Internet it&#39;ll respond with a much larger response, either a very large packet or many packets. The hacker can then send a packet to many of these sites, &quot;spoofing&quot; or forging the IP address of the victim. This causes all those sites to then flood the victim with traffic. Thus, with a small amount of outbound traffic, the hacker can flood the inbound traffic of the victim.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;This is one of those things that has worked for 20 years, because it&#39;s so obvious teenagers can do it, yet there is no obvious solution. President Trump&#39;s executive order of cyberspace specifically demanded that his government come up with a report on how to address this, but it&#39;s unlikely that they&#39;ll come up with any useful strategy.&lt;br /&gt;&lt;br /&gt;More: Wikipedia on &lt;a href=&quot;https://en.wikipedia.org/wiki/Denial-of-service_attack#Distributed_attack&quot;&gt;DDoS&lt;/a&gt;, Wikipedia on &lt;a href=&quot;https://en.wikipedia.org/wiki/IP_address_spoofing&quot;&gt;Spoofing&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Conclusion&lt;/h3&gt;&lt;div&gt;Tweet me (&lt;a href=&quot;https://twitter.com/erratarob&quot;&gt;@ErrataRob&lt;/a&gt;) your obvious hacks, so I can add them to the list.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/173324754003837704/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=173324754003837704' title='5 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/173324754003837704'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/173324754003837704'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/07/top-10-most-obvious-hacks-of-all-time.html' title='Top 10 Most Obvious Hacks of All Time (v0.9)'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>5</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-1298667274591026125</id><published>2017-07-29T15:28:00.001-04:00</published><updated>2017-07-29T16:27:26.399-04:00</updated><title type='text'>Is DefCon Wifi safe?</title><content type='html'>DEF CON is the largest U.S. hacker conference that takes place every summer in Las Vegas. It offers WiFi service. Is it safe?&lt;br /&gt;&lt;br /&gt;Probably.&lt;br /&gt;&lt;br /&gt;The trick is that you need to download the certificate from &lt;a href=&quot;https://wifireg.defcon.org/&quot;&gt;https://wifireg.defcon.org&lt;/a&gt; and import it into your computer. They have instructions for all your various operating systems. For macOS, it was as simple as downloading &quot;dc25.mobileconfig&quot; and importing it.&lt;br /&gt;&lt;br /&gt;I haven&#39;t validated the DefCon team did the right thing for all platforms, but I know that safety is possible. If a hacker could easily hack into arbitrary WiFi, then equipment vendors would fix it. Corporations widely use WiFi -- they couldn&#39;t do this if it weren&#39;t safe.&lt;br /&gt;&lt;br /&gt;The first step in safety is &lt;i&gt;encryption&lt;/i&gt;, obviously. WPA does encryption well, you you are good there.&lt;br /&gt;&lt;br /&gt;The second step is &lt;i&gt;authentication&lt;/i&gt;&amp;nbsp;-- proving that the access-point is who it says it is. Otherwise, somebody could setup their own access-point claiming to be &quot;DefCon&quot;, and you&#39;d happily connect to it. Encrypted connect to the evil access-point doesn&#39;t help you. This is what the certificate you download does -- you import it into your system, so that you&#39;ll trust only the &quot;DefCon&quot; access-point that has the private key.&lt;br /&gt;&lt;br /&gt;That&#39;s not to say you are completely safe. There&#39;s a known vulnerability for the Broadcom WiFi chip imbedded in many devices, including iPhone and Android phones. If you have one of these devices, you should either upgrade your software with a fix or disable WiFi.&lt;br /&gt;&lt;br /&gt;There may also be unknown vulnerabilities in WiFi stacks. the Broadcom bug shows that after a couple decades, we still haven&#39;t solved the problem of simple buffer overflows in WiFi stacks/drivers. Thus, some hacker may have an unknown 0day vulnerability they are using to hack you.&lt;br /&gt;&lt;br /&gt;Of course, this can apply to any WiFi usage anywhere. Frankly, if I had such an 0day, I wouldn&#39;t use it at DefCon. Along with black-hat hackers DefCon is full of white-hat researchers monitoring the WiFi -- looking for hackers using exploits. They are likely to discover the 0day and report it. Thus, I&#39;d rather use such 0-days in international airpots, catching business types, getting into their company secrets. Or, targeting government types.&lt;br /&gt;&lt;br /&gt;So it&#39;s impossible to guarantee any security. But what the DefCon network team bas done looks right, the same sort of thing corporations do to secure themselves, so you are probably secure.&lt;br /&gt;&lt;br /&gt;On the other hand, don&#39;t use &quot;DefCon-Open&quot; -- not only is it insecure, there are explicitly a ton of hackers spying on it at the &quot;Wall of Sheep&quot; to point out the &quot;sheep&quot; who don&#39;t secure their passwords.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-rb8aLtxkqU8/WXzvqfE0RSI/AAAAAAAAEwM/SrH1E_F8AGwORqGwLuDyl-XByADLrHQGgCLcBGAs/s1600/Screen%2BShot%2B2017-07-29%2Bat%2B1.26.41%2BPM.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;550&quot; data-original-width=&quot;780&quot; height=&quot;225&quot; src=&quot;https://2.bp.blogspot.com/-rb8aLtxkqU8/WXzvqfE0RSI/AAAAAAAAEwM/SrH1E_F8AGwORqGwLuDyl-XByADLrHQGgCLcBGAs/s320/Screen%2BShot%2B2017-07-29%2Bat%2B1.26.41%2BPM.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/1298667274591026125/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=1298667274591026125' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/1298667274591026125'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/1298667274591026125'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/07/is-defcon-wifi-safe.html' title='Is DefCon Wifi safe?'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-rb8aLtxkqU8/WXzvqfE0RSI/AAAAAAAAEwM/SrH1E_F8AGwORqGwLuDyl-XByADLrHQGgCLcBGAs/s72-c/Screen%2BShot%2B2017-07-29%2Bat%2B1.26.41%2BPM.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-4124027436098615543</id><published>2017-07-26T19:52:00.000-04:00</published><updated>2017-07-26T19:52:06.260-04:00</updated><title type='text'>Slowloris all the things</title><content type='html'>At DEFCON, some researchers are going to announce a Slowloris-type exploit for SMB -- &lt;a href=&quot;https://threatpost.com/windows-smb-zero-day-to-be-disclosed-during-def-con/126927/&quot;&gt;SMBloris&lt;/a&gt;. I thought I&#39;d write up some comments.&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;The original Slowloris from several years creates a ton of connections to a web server, but only sends partial headers. The server allocates a large amount of memory to handle the requests, expecting to free that memory soon when the requests are completed. But the requests are never completed, so the memory remains tied up indefinitely. Moreover, this also consumes a lot of CPU resources -- every time Slowloris dribbles a few more bytes on the TCP connection is forces the CPU to walk through a lot of data structures to handle those bytes.&lt;br /&gt;&lt;br /&gt;The thing about Slowloris is that it&#39;s not specific to HTTP. It&#39;s a principle that affects pretty much every service that listens on the Internet. For example, on Linux servers running NFS, you can exploit the RPC fragmentation feature in order to force the server to allocate all the memory in a box waiting for fragments that never arrive.&lt;br /&gt;&lt;br /&gt;SMBloris does the same thing for SMB. It&#39;s an easy attack to carry out in general, the only question is how much resources are required on the attacker&#39;s side. That&#39;s probably what this talk is about, causing the maximum consequences on the server with minimal resources on the attacker&#39;s machine, thus allowing a Raspberry Pi to tie up all the resources on even the largest enterprise server.&lt;br /&gt;&lt;br /&gt;According to the &lt;a href=&quot;https://threatpost.com/windows-smb-zero-day-to-be-disclosed-during-def-con/126927/&quot;&gt;ThreatPost article&lt;/a&gt;, the attack was created looking at the NSA ETERNALBLUE exploit. That exploit works by causing the server to allocate memory chunks from fragmented requests. How to build a Slowloris exploit from this is then straightforward -- just continue executing the first part of the ETERNALBLUE exploit, with larger chunks. I say &quot;straightforward&quot;, but of course, the researchers have probably discovered some additional clever tricks.&lt;br /&gt;&lt;br /&gt;Samba, the SMB rewrite for non-Windows systems, probably falls victim to related problems. Maybe not this particular attack that affects Windows, but almost certainly something else. If not SMB, then the DCE-RPC service on top of it.&lt;br /&gt;&lt;br /&gt;Microsoft has said they aren&#39;t going to fix the SMBloris bug, and for good reason: it might be unfixable. Sure, there&#39;s probably some kludge that fixes this specific script, but would still leave the system vulnerable to slight variations. The same reasoning applies to other services -- Slowloris is an inherent problem in all Internet services and is not something easily addressed without re-writing the service from the ground up to specifically deal with the problem.&lt;br /&gt;&lt;br /&gt;The best answer to Slowloris is the &quot;langsec&quot; discipline, which counsels us to separate &quot;parsing&quot; input from &quot;processing&quot; it. Most services combine the two, partially processing partial input. This should be changed to fully validate input consuming the least resources possible, before processing it. In other words, services should have a light-weight front-end that consumes the least resources possible, waiting for the request to complete, before it then forwards the request to the rest of the system.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/4124027436098615543/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=4124027436098615543' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/4124027436098615543'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/4124027436098615543'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/07/slowloris-all-things.html' title='Slowloris all the things'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-6123075657208497638</id><published>2017-07-23T20:40:00.001-04:00</published><updated>2017-07-23T21:51:04.259-04:00</updated><title type='text'>Defending anti-netneutrality arguments</title><content type='html'>Last week, activists proclaimed a &quot;NetNeutrality Day&quot;, trying to convince the FCC to regulate NetNeutrality. As a libertarian, I tweeted many reasons why NetNeutrality is stupid. NetNeutrality is exactly the sort of government regulation Libertarians hate most. Somebody tweeted the following challenge, which I thought I&#39;d address here.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-cards=&quot;hidden&quot; data-lang=&quot;en&quot;&gt;&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;&lt;a href=&quot;https://twitter.com/ErrataRob&quot;&gt;@ErrataRob&lt;/a&gt; I&#39;d like to see you defend your NN stance in this context.&lt;a href=&quot;https://t.co/2yvwMLo1m1&quot;&gt;https://t.co/2yvwMLo1m1&lt;/a&gt;&lt;a href=&quot;https://t.co/a7CYxd9vcW&quot;&gt;https://t.co/a7CYxd9vcW&lt;/a&gt;&lt;/div&gt;â Tanner Bennett (@NSExceptional) &lt;a href=&quot;https://twitter.com/NSExceptional/status/888519325866483712&quot;&gt;July 21, 2017&lt;/a&gt;&lt;/blockquote&gt;&lt;br /&gt;The links point to two separate cases.&lt;br /&gt;&lt;ul&gt;&lt;li&gt;the Comcast BitTorrent throttling case&lt;/li&gt;&lt;li&gt;a lawsuit against Time Warning for poor service&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;The tone of the tweet suggests that my anti-NetNeutrality stance cannot be defended in light of these cases. But of course this is wrong. The short answers are:&lt;br /&gt;&lt;br /&gt;&lt;ul&gt;&lt;li&gt;the Comcast BitTorrent throttling benefits customers&lt;/li&gt;&lt;li&gt;poor service has nothing to do with NetNeutrality&lt;/li&gt;&lt;/ul&gt;&lt;br /&gt;The long answers are below.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;The Comcast BitTorrent Throttling&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;The presumption is that any sort of packet-filtering is automatically evil, and against the customer&#39;s interests. That&#39;s not true.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Take GoGoInflight&#39;s internet service for airplanes. They block access to video sites like NetFlix. That&#39;s because they often have as little as 1-mbps for the entire plane, which is enough to support many people checking email and browsing Facebook, but a single person trying to watch video will overload the internet connection for everyone. Therefore, their Internet service won&#39;t work unless they filter video sites.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;GoGoInflight breaks a lot of other NetNeutrality rules, such as providing free access to Amazon.com or promotion deals where users of a particular phone get free Internet access that everyone else pays for. And all this is allowed by FCC, allowing GoGoInflight to break NetNeutrality rules because it&#39;s clearly in the customer interest.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Comcast&#39;s throttling of BitTorrent is likewise clearly in the customer interest. Until the FCC stopped them, BitTorrent users were allowed unlimited downloads. Afterwards, Comcast imposed a 300-gigabyte/month bandwidth cap.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Internet access is a series of tradeoffs. BitTorrent causes congestion during prime time (6pm to 10pm). Comcast has to solve it somehow -- not solving it wasn&#39;t an option. Their options were:&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;Charge all customers more, so that the 99% not using BitTorrent subsidizes the 1% who do.&lt;/li&gt;&lt;li&gt;Impose a bandwidth cap, preventing heavy BitTorrent usage.&lt;/li&gt;&lt;li&gt;Throttle BitTorrent packets during prime-time hours when the network is congested.&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;Option 3 is clearly the best. BitTorrent downloads take hours, days, and sometimes weeks. BitTorrent users don&#39;t mind throttling during prime-time congested hours. That&#39;s preferable to the other option, bandwidth caps.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I&#39;m a BitTorrent user, and a heavy downloader (I scan the Internet on a regular basis from cloud machines, then download the results to home, which can often be 100-gigabytes in size for a single scan). I want prime-time BitTorrent throttling rather than bandwidth caps. The EFF/FCC&#39;s action that prevented BitTorrent throttling forced me to move to Comcast Business Class which doesn&#39;t have bandwidth caps, charging me $100 more a month. It&#39;s why I don&#39;t contribute the EFF -- if they had not agitated for this, taking such choices away from customers, I&#39;d have $1200 more per year to donate to worthy causes.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Ask any user of BitTorrent which they prefer: 300gig monthly bandwidth cap or BitTorrent throttling during prime-time congested hours (6pm to 10pm). The FCC&#39;s action did not help Comcast&#39;s customers, it hurt them. Packet-filtering would&#39;ve been a good thing, not a bad thing.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;The Time-Warner Case&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;First of all, no matter how you define the case, it has nothing to do with NetNeutrality. NetNeutrality is about filtering packets, giving some priority over others. This case is about providing slow service for everyone.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Secondly, it&#39;s not true. Time Warner provided the same access speeds as everyone else. Just because they promise 10mbps download speeds doesn&#39;t mean you get 10mbps to NetFlix. That&#39;s not how the Internet works -- that&#39;s not how any of this works.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;To prove this, look at NetFlix&#39;s connection speed graphis. It shows Time Warner Cable is average for the industry. It had the same congestion problems most ISPs had in 2014, and it has the same inability to provide more than 3mbps during prime-time (6pm-10pm) that all ISPs have today.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-_kNU0IyFmic/WXU4pexQuCI/AAAAAAAAEvQ/3IrKXV6yDNkjE5ZSY5wnSoCNNjWV9k5sgCLcBGAs/s1600/us-leaderboard-2017-06.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;562&quot; data-original-width=&quot;1140&quot; height=&quot;157&quot; src=&quot;https://3.bp.blogspot.com/-_kNU0IyFmic/WXU4pexQuCI/AAAAAAAAEvQ/3IrKXV6yDNkjE5ZSY5wnSoCNNjWV9k5sgCLcBGAs/s320/us-leaderboard-2017-06.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The YouTube &lt;a href=&quot;https://www.google.com/get/videoqualityreport/&quot;&gt;video quality diagnostic pages&lt;/a&gt; show Time Warner Cable to similar to other providers around the country. It also shows the prime-time bump between 6pm and 10pm.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-Ao15z9TmrrU/WXU89UU5CGI/AAAAAAAAEvc/65WpwHDG7pM_zTnhDpehDkvDv8RkHvZzwCLcBGAs/s1600/Screenshot%2B2017-07-23%2B20.15.15.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;408&quot; data-original-width=&quot;790&quot; height=&quot;165&quot; src=&quot;https://3.bp.blogspot.com/-Ao15z9TmrrU/WXU89UU5CGI/AAAAAAAAEvc/65WpwHDG7pM_zTnhDpehDkvDv8RkHvZzwCLcBGAs/s320/Screenshot%2B2017-07-23%2B20.15.15.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Congestion is an essential part of the Internet design. When an ISP like Time Warner promises you 10mbps bandwidth, that&#39;s only &quot;best effort&quot;. There&#39;s no way they can promise 10mbps stream to everybody on the Internet, especially not to a site like NetFlix that gets overloaded during prime-time.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Indeed, it&#39;s the defining feature of the Internet compared to the old &quot;telecommunications&quot; network. The old phone system guaranteed you a steady 64-kbps stream between any time points in the phone network, but it cost a lot of money. Today&#39;s Internet provide a free multi-megabit stream for free video calls (Skype, Facetime) around the world -- but with the occasional dropped packets because of congestion.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Whatever lawsuit money-hungry lawyers come up with isn&#39;t about how an ISP like Time Warner works. It&#39;s only about how they describe the technology. They work no different than every ISP -- no different than how anything is possible.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Conclusion&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;The short answer to the above questions is this: Comcast&#39;s BitTorrent throttling benefits customers, and the Time Warner issue has nothing to do with NetNeutrality at all.&lt;br /&gt;&lt;br /&gt;The tweet demonstrates that NetNeutrality really means. It has nothing to do with the facts of any case, especially the frequency that people point to ISP ills that have nothing actually to do with NetNeutrality. Instead, what NetNeutrality really about is socialism. People are convinced corporations are evil and want the government to run the Internet. The Comcast/BitTorrent case is a prime example of why this is a bad idea: government definitions of what customers want is actually far different than what customers actually want.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/6123075657208497638/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=6123075657208497638' title='10 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/6123075657208497638'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/6123075657208497638'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/07/defending-anti-netneutrality-arguments.html' title='Defending anti-netneutrality arguments'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-_kNU0IyFmic/WXU4pexQuCI/AAAAAAAAEvQ/3IrKXV6yDNkjE5ZSY5wnSoCNNjWV9k5sgCLcBGAs/s72-c/us-leaderboard-2017-06.jpg" height="72" width="72"/><thr:total>10</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-797238767463591351</id><published>2017-07-08T23:14:00.000-04:00</published><updated>2017-07-08T23:14:23.925-04:00</updated><title type='text'>Burner laptops for DEF CON</title><content type='html'>Hacker summer camp (Defcon, Blackhat, BSidesLV) is upon us, so I thought I&#39;d write up some quick notes about bringing a &quot;burner&quot; laptop. Chrome is your best choice in terms of security, but I need Windows/Linux tools, so I got a Windows laptop.&lt;br /&gt;&lt;br /&gt;I chose the &lt;a href=&quot;https://www.amazon.com/dp/B01LT692RK/&quot;&gt;Asus e200ha&lt;/a&gt; for $199 from Amazon with free (and fast) shipping. There are similar notebooks with roughly the same hardware and price from other manufacturers (HP, Dell, etc.), so I&#39;m not sure how this compares against those other ones. However, it fits my needs as a &quot;burner&quot; laptop, namely:&lt;br /&gt;&lt;ul&gt;&lt;li&gt;cheap&lt;/li&gt;&lt;li&gt;lasts 10 hours &lt;i&gt;easily&lt;/i&gt; on battery&lt;/li&gt;&lt;li&gt;weighs 2.2 pounds (1 kilogram)&lt;/li&gt;&lt;li&gt;11.6 inch and thin&lt;/li&gt;&lt;/ul&gt;Some other specs are:&lt;br /&gt;&lt;ul&gt;&lt;li&gt;4 gigs of RAM&lt;/li&gt;&lt;li&gt;32 gigs of eMMC flash memory&lt;/li&gt;&lt;li&gt;quad core 1.44 GHz Intel Atom CPU&lt;/li&gt;&lt;li&gt;Windows 10&lt;/li&gt;&lt;li&gt;free Microsoft Office 365 for one year&lt;/li&gt;&lt;li&gt;good, large keyboard&lt;/li&gt;&lt;li&gt;good, large touchpad&lt;/li&gt;&lt;li&gt;USB 3.0&lt;/li&gt;&lt;li&gt;microSD&lt;/li&gt;&lt;li&gt;WiFi ac&lt;/li&gt;&lt;li&gt;no fans, completely silent&lt;/li&gt;&lt;/ul&gt;There are compromises, of course.&lt;br /&gt;&lt;ul&gt;&lt;li&gt;The Atom CPU is slow, thought it&#39;s only noticeable when churning through heavy webpages. Adblocking addons or Brave are a necessity. Most things are usably fast, such as using Microsoft Word.&lt;/li&gt;&lt;li&gt;Crappy sound and video, though VLC does a fine job playing movies with headphones on the airplane. Using in bright sunlight will be difficult.&lt;/li&gt;&lt;li&gt;micro-HDMI, keep in mind if intending to do presos from it, you&#39;ll need an HDMI adapter&lt;/li&gt;&lt;li&gt;It has limited storage, 32gigs in theory, about half that usable.&lt;/li&gt;&lt;li&gt;Does special Windows 10 compressed install that you can&#39;t actually upgrade without a completely new install. It doesn&#39;t have the latest Windows 10 Creators update. I lost a gig thinking I could compress system files.&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;br /&gt;&lt;div style=&quot;-webkit-text-stroke-width: 0px; color: black; font-family: Times; font-size: medium; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;&quot;&gt;&lt;/div&gt;&lt;span style=&quot;font-family: times;&quot;&gt;Copying files across the 802.11ac WiFi to the disk was quite fast, several hundred megabits-per-second. The eMMC isn&#39;t as fast as an SSD, but its a lot faster than typical SD card speeds.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;The first thing I did once I got the notebook was to install the free VeraCrypt full disk encryption. The CPU has AES acceleration, so it&#39;s fast. There is a problem with the keyboard driver during boot that makes it really hard to enter long passwords -- you have to carefully type one key at a time to prevent extra keystrokes from being entered.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;You &lt;a href=&quot;https://wiki.debian.org/InstallingDebianOn/Asus/E200HA&quot;&gt;can&#39;t really install Linux&lt;/a&gt; on this computer, but you can use virtual machines. I installed VirtualBox and downloaded the Kali VM. I had some problems attaching USB devices to the VM. First of all, VirtualBox requires a separate downloaded extension to get USB working. Second, it conflicts with USBpcap that I installed for Wireshark.&lt;br /&gt;&lt;br /&gt;It comes with one year of free Office 365. Obviously, Microsoft is hoping to hook the user into a longer term commitment, but in practice next year at this time I&#39;d get another burner $200 laptop rather than spend $99 on extending the Office 365 license.&lt;br /&gt;&lt;br /&gt;Let&#39;s talk about the CPU. It&#39;s Intel&#39;s &quot;Atom&quot; processor, not their mainstream (Core i3 etc.) processor. Even though it has roughly the same GHz as the processor in a 11inch MacBook Air and twice the cores, it&#39;s noticeably and painfully slower. This is especially noticeable on ad-heavy web pages, while other things seem to work just fine. It has hardware acceleration for most video formats, though I had trouble getting Netflix to work.&lt;br /&gt;&lt;br /&gt;The tradeoff for a slow CPU is phenomenal battery life. It seems to last forever on battery. It&#39;s really pretty cool.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Conclusion&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;A Chromebook is likely more secure, but for my needs, this $200 is perfect.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/797238767463591351/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=797238767463591351' title='6 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/797238767463591351'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/797238767463591351'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/07/burner-laptops-for-def-con.html' title='Burner laptops for DEF CON'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>6</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-8774838270266555852</id><published>2017-07-01T20:21:00.001-04:00</published><updated>2017-07-01T20:21:20.876-04:00</updated><title type='text'>Yet more reasons to disagree with experts on nPetya</title><content type='html'>&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-wFtAu62dDBA/WVg33MUZIXI/AAAAAAAAEuk/JxWu90QPI3gQQx4Pz15ST_OfG7dOG0iPgCLcBGAs/s1600/Survivorship-bias.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: right; float: right; margin-bottom: 1em; margin-left: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;894&quot; data-original-width=&quot;1200&quot; height=&quot;238&quot; src=&quot;https://1.bp.blogspot.com/-wFtAu62dDBA/WVg33MUZIXI/AAAAAAAAEuk/JxWu90QPI3gQQx4Pz15ST_OfG7dOG0iPgCLcBGAs/s320/Survivorship-bias.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;In WW II, they looked at planes returning from bombing missions that were shot full of holes. Their natural conclusion was to add more armor to the sections that were damaged, to protect them in the future. But wait, said the statisticians. The original damage is likely spread evenly across the plane. Damage on returning planes indicates where they could damage and still return. The undamaged areas are where they were hit and couldn&#39;t return. Thus, it&#39;s the &lt;i&gt;undamaged&lt;/i&gt;&amp;nbsp;areas you need to protect.&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;This is called &lt;a href=&quot;https://en.wikipedia.org/wiki/Survivorship_bias&quot;&gt;survivorship bias&lt;/a&gt;.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Many experts are making the same mistake with regards to the nPetya ransomware.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I hate to point this out, because they are all experts I admire and respect, especially&amp;nbsp;@MalwareJake, but it&#39;s still an error. An example is this tweet:&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;Errors happen. But look at the discipline put into the spreading code. That worked as intended. Only the ransomware components have bugs?&lt;/div&gt;â Jake Williams (@MalwareJake) &lt;a href=&quot;https://twitter.com/MalwareJake/status/881296463006842880&quot;&gt;July 1, 2017&lt;/a&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;script async=&quot;&quot; charset=&quot;utf-8&quot; src=&quot;//platform.twitter.com/widgets.js&quot;&gt;&lt;/script&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The context of this tweet is the discussion of why nPetya was well written with regards to spreading, but full of bugs with regards to collecting on the ransom. The conclusion therefore that it wasn&#39;t intended to be ransomware, but was intended to simply be a &quot;wiper&quot;, to cause destruction.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;But this is just survivorship bias. If nPetya had been written the other way, with excellent ransomware features and poor spreading, we would not now be talking about it. Even that initial seeding with the trojaned MeDoc update wouldn&#39;t have spread it far enough.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;In other words, &lt;i&gt;all&lt;/i&gt;&amp;nbsp;malware samples we get are good at spreading, either on their own, or because the creator did a good job seeding them. It&#39;s because we never see the ones that didn&#39;t spread.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;With regards to nPetya, a lot of experts are making this claim. Since it spread so well, but had hopelessly crippled ransomware features, that must have been the intent all along. Yet, as we see from survivorship bias, none of us would&#39;ve seen nPetya had it not been for the spreading feature.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/8774838270266555852/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=8774838270266555852' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/8774838270266555852'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/8774838270266555852'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/07/yet-more-reasons-to-disagree-with.html' title='Yet more reasons to disagree with experts on nPetya'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/-wFtAu62dDBA/WVg33MUZIXI/AAAAAAAAEuk/JxWu90QPI3gQQx4Pz15ST_OfG7dOG0iPgCLcBGAs/s72-c/Survivorship-bias.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-5460148509320854113</id><published>2017-06-29T19:01:00.001-04:00</published><updated>2017-07-01T20:22:57.023-04:00</updated><title type='text'>NonPetya: no evidence it was a &quot;smokescreen&quot;</title><content type='html'>Many well-regarded experts claim that the not-Petya ransomware wasn&#39;t &quot;ransomware&quot; at all, but a &quot;wiper&quot; whose goal was to destroy files, without any intent at letting victims recover their files. I want to point out that there is no real evidence of this.&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Certainly, things look suspicious. For one thing, it certainly targeted the Ukraine. For another thing, it made several mistakes that prevent them from ever decrypting drives. Their email account was shutdown, and it corrupts the boot sector.&lt;br /&gt;&lt;br /&gt;But these things aren&#39;t evidence, they are problems. They are things needing explanation, not things that support our preferred conspiracy theory.&lt;br /&gt;&lt;br /&gt;The simplest, Occam&#39;s Razor explanation explanation is that they were simple mistakes. Such mistakes are common among ransomware. We think of virus writers as professional software developers who thoroughly test their code. Decades of evidence show the opposite, that such software is of poor quality with shockingly bad bugs.&lt;br /&gt;&lt;br /&gt;It&#39;s true that effectively, nPetya is a wiper. Matthieu Suicheâ does &lt;a href=&quot;https://blog.comae.io/petya-2017-is-a-wiper-not-a-ransomware-9ea1d8961d3b&quot;&gt;a great job describing&lt;/a&gt;&amp;nbsp;one flaw that prevents it working. &lt;a href=&quot;https://twitter.com/Hasherezade&quot;&gt;@hasherezade&lt;/a&gt;&amp;nbsp;does a &lt;a href=&quot;https://blog.malwarebytes.com/threat-analysis/2017/06/eternalpetya-lost-salsa20-key/&quot;&gt;great job explaining another flaw&lt;/a&gt;.&amp;nbsp;&amp;nbsp;But best explanation isn&#39;t that this is intentional. Even if these bugs didn&#39;t exist, it&#39;d still be a wiper if the perpetrators simply ignored the decryption requests. They need not intentionally make the decryption fail.&lt;br /&gt;&lt;br /&gt;Thus, the simpler explanation is that it&#39;s simply a bug. Ransomware authors test the bits they care about, and test less well the bits they don&#39;t. It&#39;s quite plausible to believe that just before shipping the code, they&#39;d add a few extra features, and forget to regression test the entire suite. I mean, I do that all the time with my code.&lt;br /&gt;&lt;br /&gt;Some have pointed to the sophistication of the code as proof that such simple errors are unlikely. This isn&#39;t true. While it&#39;s more sophisticated than WannaCry, it&#39;s about average for the current state-of-the-art for ransomware in general. What people think of, such the Petya base, or using PsExec to spread throughout a Windows domain, is already at least a year old.&lt;br /&gt;&lt;br /&gt;Indeed, the use of PsExec itself is a bit clumsy, when the code for doing the same thing is already public. It&#39;s just a few calls to basic Windows networking APIs. A sophisticated virus would do this itself, rather than clumsily use PsExec.&lt;br /&gt;&lt;br /&gt;Infamy doesn&#39;t mean skill. People keep making the mistake that the more widespread something is in the news, the more skill, the more of a &quot;conspiracy&quot; there must be behind it. This is not true. Virus/worm writers often do newsworthy things by accident. Indeed, the history of worms, starting with the Morris Worm, has been things running out of control more than the author&#39;s expectations.&lt;br /&gt;&lt;br /&gt;What makes nPetya newsworthy isn&#39;t the EternalBlue exploit or the wiper feature. Instead, the creators got lucky with MeDoc. The software is used by every major organization in the Ukraine, and at the same time, their website was horribly insecure -- laughably insecure. Furthermore, it&#39;s autoupdate feature didn&#39;t check cryptographic signatures. No hacker can plan for this level of widespread incompetence -- it&#39;s just extreme luck.&lt;br /&gt;&lt;br /&gt;Thus, the effect of bumbling around is something that hit the Ukraine pretty hard, but it&#39;s not necessarily the intent of the creators. It&#39;s like how the Slammer worm hit South Korea pretty hard, or how the Witty worm hit the DoD pretty hard. These things look &quot;targeted&quot;, especially to the victims, but it was by pure chance (&lt;a href=&quot;http://blog.erratasec.com/2014/03/witty-worm-no-seed-population-involved.html&quot;&gt;provably so&lt;/a&gt;, in the case of Witty).&lt;br /&gt;&lt;br /&gt;Certainly, MeDoc was targeted. But then, targeting a single organization is the norm for ransomware. They have to do it that way, giving each target a different Bitcoin address for payment. That it then spread to the entire Ukraine, and further, is the sort of thing that typically surprises worm writers.&lt;br /&gt;&lt;br /&gt;Finally, there&#39;s little reason to believe that there needs to be a &quot;smokescreen&quot;. Russian hackers are targeting the Ukraine all the time. Whether Russian hackers are to blame for &quot;ransomware&quot; vs. &quot;wiper&quot; makes little difference.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Conclusion&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;We know that Russian hackers are constantly targeting the Ukraine. Therefore, the theory that this was nPetya&#39;s goal all along, to destroy Ukraines computers, is a good one.&lt;br /&gt;&lt;br /&gt;Yet, there&#39;s no actual &quot;evidence&quot; of this. nPetya&#39;s issues are just as easily explained by normal software bugs. The smokescreen isn&#39;t needed. The boot record bug isn&#39;t needed. The single email address that was shutdown isn&#39;t significant, since half of all ransomware uses the same technique.&lt;br /&gt;&lt;br /&gt;The experts who disagree with me are really smart/experienced people who you should generally trust. It&#39;s just that I can&#39;t see their evidence.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Update:&lt;/b&gt;&amp;nbsp;I wrote another blogpost about &quot;s&lt;a href=&quot;http://blog.erratasec.com/2017/07/yet-more-reasons-to-disagree-with.html&quot;&gt;urvivorship bias&lt;/a&gt;&quot;, refuting the claim by many experts talking about the sophistication of the spreading feature.&lt;br /&gt;&lt;br /&gt;&lt;hr /&gt;&lt;br /&gt;&lt;b&gt;Update:&lt;/b&gt;&amp;nbsp;comment asks &quot;why is there no Internet spreading code?&quot;. The answer is &quot;I don&#39;t know&quot;, but unanswerable questions aren&#39;t evidence of a conspiracy. &quot;What aren&#39;t there any stars in the background?&quot; isn&#39;t proof the moon landings are fake, such because you can&#39;t answer the question. One guess is that you never want ransomware to spread that far, until you&#39;ve figured out how to get payment from so many people.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/5460148509320854113/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=5460148509320854113' title='11 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/5460148509320854113'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/5460148509320854113'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/06/nonpetya-no-evidence-it-was-smokescreen.html' title='NonPetya: no evidence it was a &quot;smokescreen&quot;'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>11</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-6673489120942244524</id><published>2017-06-24T23:29:00.002-04:00</published><updated>2017-06-25T23:23:44.414-04:00</updated><title type='text'>A kindly lesson for you non-techies about encryption</title><content type='html'>The following tweets need to be debunked:&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-LMX9gwxLN50/WU8ifQZqMdI/AAAAAAAAEto/NG2QPqqVYucdPNSnn3kRvv0zjVaK_jsiQCLcBGAs/s1600/pgpsignal.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;533&quot; data-original-width=&quot;888&quot; height=&quot;192&quot; src=&quot;https://1.bp.blogspot.com/-LMX9gwxLN50/WU8ifQZqMdI/AAAAAAAAEto/NG2QPqqVYucdPNSnn3kRvv0zjVaK_jsiQCLcBGAs/s320/pgpsignal.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;The answer to John Schindler&#39;s question is:&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;every expert in cryptography doesn&#39;t know this&lt;/blockquote&gt;Oh, sure, you can find fringe wacko who also knows crypto that agrees with you but all the sane members of the security community will not.&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Telegram is not trustworthy because it&#39;s partially&amp;nbsp;&lt;i&gt;closed-source&lt;/i&gt;. We can&#39;t see how it works. We don&#39;t know if they&#39;ve made accidental mistakes that can be hacked. We don&#39;t know if they&#39;ve been bribed by the NSA or Russia to put backdoors in their program. In contrast, PGP and Signal are &lt;i&gt;open-source&lt;/i&gt;. We can read exactly what the software does. Indeed, thousands of people have been reviewing their software looking for mistakes and backdoors. Being open-source doesn&#39;t automatically make software better, but it does make hiding secret backdoors much harder.&lt;br /&gt;&lt;br /&gt;Telegram is not trustworthy because we aren&#39;t certain the crypto is done properly. Signal, and especially PGP, are done properly.&lt;br /&gt;&lt;br /&gt;The thing about encryption is that when done properly, it works. Neither the NSA nor the Russians can break properly encrypted content. There&#39;s no such thing as &quot;military grade&quot; encryption that is better than consumer grade. There&#39;s only encryption that nobody can hack vs. encryption that your neighbor&#39;s teenage kid can easily hack. Those scenes in TV/movies about breaking encryption is as realistic as sound in space: good for dramatic presentation, but not how things work in the real world.&lt;br /&gt;&lt;br /&gt;In particular, end-to-end encryption works. Sure, in the past, such apps only encrypted as far as the server, so whoever ran the server could read your messages. Modern chat apps, though, are end-to-end: the servers have absolutely no ability to decrypt what&#39;s on them, unless they can get the decryption keys from the phones. But some tasks, like encrypted messages to a group of people, can be hard to do properly.&lt;br /&gt;&lt;br /&gt;Thus, in contrast to what John Schindler says, while we techies have doubts about Telegram, we don&#39;t have doubts about Russia authorities having access to Signal and PGP messages.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Snowden hatred has become the anti-vax of crypto. Sure, there&#39;s no particular reason to trust Snowden -- people should really stop treating him as some sort of privacy-Jesus. But there&#39;s no particular reason to distrust him, either. His bland statements on crypto are indistinguishable from any other crypto-enthusiast statements. If he&#39;s a Russian pawn, then so too is the bulk of the crypto community.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;With all this said, using Signal doesn&#39;t make you perfectly safe. The person you are chatting with could be a secret agent -- especially in group chat. There could be cameras/microphones in the room where you are using the app. The Russians can also hack into your phone, and likewise eavesdrop on everything you do with the phone, regardless of which app you use. And they probably have hacked specific people&#39;s phones. On the other hand, if the NSA or Russians were widely hacking phones, we&#39;d detect that this was happening. We haven&#39;t.&lt;br /&gt;&lt;br /&gt;Signal is therefore not a guarantee of safety, because nothing is, and if your life depends on it, you can&#39;t trust any simple advice like &quot;use Signal&quot;. But, for the bulk of us, it&#39;s pretty damn secure, and I trust neither the Russians nor the NSA are reading my Signal or PGP messages.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;At first blush, this &lt;complete id=&quot;goog_1390871728&quot;&gt;@20committee tweet&amp;nbsp;&lt;/complete&gt;appears to be non-experts opining on things outside their expertise. But in reality, it&#39;s just obtuse partisanship, where truth and expertise doesn&#39;t matter. Nothing you or I say can change some people&#39;s minds on this matter, no matter how much our expertise gives weight to our words. This post is instead for bystanders, who don&#39;t know enough to judge whether these crazy statements have merit.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;hr /&gt;&lt;br /&gt;&lt;b&gt;Bonus&lt;/b&gt;:&lt;br /&gt;&lt;br /&gt;So let&#39;s talk about &quot;&lt;b&gt;every crypto expert&lt;/b&gt;&quot;. It&#39;s, of course, impossible to speak for every crypto expert. It&#39;s like saying how the consensus among climate scientists is that mankind is warming the globe, while at the same time, ignoring the wide spread disagreement on how much warming that is.&lt;br /&gt;&lt;br /&gt;The same is true here. You&#39;ll get a widespread different set of responses from experts about the above tweet. Some, for example, will stress my point at the bottom that hacking the endpoint (the phone) breaks all the apps, and thus justify the above tweet from that point of view. Others will point out that all software has bugs, and it&#39;s quite possible that Signal has some unknown bug that the Russians are exploiting.&lt;br /&gt;&lt;br /&gt;So I&#39;m not attempting to speak for what all experts might say here in the general case and what long lecture they can opine about. I am, though, pointing out the basics that virtually everyone agrees on, the consensus of open-source and working crypto.&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/6673489120942244524/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=6673489120942244524' title='7 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/6673489120942244524'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/6673489120942244524'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/06/a-kindly-lesson-for-you-non-techies.html' title='A kindly lesson for you non-techies about encryption'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/-LMX9gwxLN50/WU8ifQZqMdI/AAAAAAAAEto/NG2QPqqVYucdPNSnn3kRvv0zjVaK_jsiQCLcBGAs/s72-c/pgpsignal.png" height="72" width="72"/><thr:total>7</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-7808137054854309382</id><published>2017-06-14T22:32:00.003-04:00</published><updated>2017-06-15T05:43:24.403-04:00</updated><title type='text'>Notes on open-sourcing abandoned code</title><content type='html'>&lt;div class=&quot;MsoNormal&quot;&gt;Some people want a law that compels companies to release their source code for &quot;abandoned software&quot;, in the name of cybersecurity, so that customers who bought it can continue to patch bugs long after the seller has stopped supporting the product. This is a bad policy, for a number of reasons.&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Code is Speech&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;First of all, code is speech. That was the argument why Phil Zimmerman could print the source code to PGP in a book, ship it overseas, and then have somebody scan the code back into a computer. Compelled speech is a violation of free speech. That was one of the arguments in the Apple vs. FBI case, where the FBI demanded that Apple write code for them, compelling speech.&lt;br /&gt;&lt;br /&gt;Compelling the opening of previously closed source is compelled speech.&lt;br /&gt;&lt;br /&gt;There might &lt;i&gt;still&lt;/i&gt;&amp;nbsp;be legal arguments that get away with it. After all state already compels some speech, such as warning labels, where is services a narrow, legitimate government interest. So the courts may allow it. Also, like many free-speech issues (e.g. the legality of hate-speech), people may legitimately disagree with the courts about what &quot;is&quot; legal and what &quot;should&quot; be legal.&lt;br /&gt;&lt;br /&gt;But here&#39;s the thing. What rights &quot;should&quot; be protected changes depending on what side you are on. Whether something deserves the protection of &quot;free speech&quot; depends upon whether the speaker is &quot;us&quot; or the speaker is &quot;them&quot;. If it&#39;s &quot;them&quot;, then you&#39;ll find all sorts of reasons why their speech is a special case, and what it doesn&#39;t deserve protection.&lt;br /&gt;&lt;br /&gt;That&#39;s what&#39;s happening here. The legitimate government purpose of &quot;product safety&quot; looms large, the &quot;code is speech&quot; doesn&#39;t, because they hate closed-source code, and hate Microsoft in particular. The open-source community has been strong on &quot;code is speech&quot; when it applies to them, but weak when it applies to closed-source.&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;b&gt;Define abandoned&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;What, precisely, does &#39;abandoned&#39; mean? Consider Windows 3.1. Microsoft hasn&#39;t sold it for decades. Yet, it&#39;s not precisely abandoned either, because they still sell modern versions of Windows. Being forced to show even 30 year old source code would give competitors a significant advantage in creating Windows-compatible code like WINE.&lt;br /&gt;&lt;br /&gt;When code is truly abandoned, such as when the vendor has gone out of business, chances are good they don&#39;t have the original source code anyway. Thus, in order for this policy to have any effect, you&#39;d have to force vendors to give a third-party escrow service a copy of their code whenever they release a new version of their product.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;All the source code&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;And that is surprisingly hard and costly. Most companies do not precisely know what source code their products are based upon. Yes, technically, all the code is in that ZIP file they gave to the escrow service, but it doesn&#39;t build. Essential build steps are missing, so that source code won&#39;t compile. It&#39;s like the dependency hell that many open-source products experience, such as downloading and installing two different versions of Python at different times during the build. Except, it&#39;s a hundred times worse.&lt;br /&gt;&lt;br /&gt;Often times building closed-source requires itself an obscure version of a closed-source tool that itself has been abandoned by its original vendor. You often times can&#39;t even define which is the source code. For example, engine control units (ECUs) are Matlab code that compiles down to C, which is then integrated with other C code, all of which is (using a special compiler) is translated to C. Unless you have all these closed source products, some of which are no longer sold, the source-code to the ECU will not help you in patch bugs.&lt;br /&gt;&lt;br /&gt;For small startups running fast, such as off Kickstarter, forcing them to escrow code that actually builds would force upon them an undue burden, harming innovation.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Binary patch and reversing&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;Then there is the issue of why you need the source code in the first place. Here&#39;s the deal with binary exploits like buffer-overflows: if you know enough to exploit it, you know enough to patch it. Just add some binary code onto the end of the function the program that verifies the input, then replace where the vulnerability happens to a jump instruction to the new code.&lt;br /&gt;&lt;br /&gt;I know this is possible and fairly trivial because I&#39;ve done it myself. Indeed, one of the reason Microsoft has signed kernel components is specifically because they got tired of me patching the live kernel this way (and, almost sued me for reverse engineering their code in violation of their EULA).&lt;br /&gt;&lt;br /&gt;Given the aforementioned difficulties in building software, this would be the easier option for third parties trying to fix bugs. The only reason closed-source companies don&#39;t do this already is because they need to fix their products permanently anyway, which involves checking in the change into their source control systems and rebuilding.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Conclusion&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;So what we see here is that there is no compelling benefit to forcing vendors to release code for &quot;abandoned&quot; products, while at the same time, there are significant costs involved, not the least of which is a violation of the principle that &quot;code is speech&quot;.&lt;br /&gt;&lt;br /&gt;It doesn&#39;t exist as a serious proposal. It only exists as a way to support open-source advocacy and security advocacy. Both would gladly stomp on your rights and drive up costs in order to achieve their higher moral goal.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;hr /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Bonus&lt;/b&gt;: so let&#39;s say you decide that &quot;Window XP&quot; has been abandoned, which is exactly the intent of proponents. You think what would happen is that we (the open-source community) would then be able to continue to support WinXP and patch bugs.&lt;br /&gt;&lt;br /&gt;But what we&#39;d see instead is a lot more copies of WinXP floating around, with vulnerabilities, as people decided to use it instead of paying hundreds of dollars for a new Windows 10 license.&lt;br /&gt;&lt;br /&gt;Indeed, part of the reason for Micrsoft abandoning WinXP is because it&#39;s riddled with flaws that can&#39;t practically be fixed, whereas the new features of Win10 fundamentally fixes them. Getting rid of SMBv1 is just one of many examples.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;MsoNormal&quot;&gt;&lt;script async=&quot;&quot; charset=&quot;utf-8&quot; src=&quot;//platform.twitter.com/widgets.js&quot;&gt;&lt;/script&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/7808137054854309382/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=7808137054854309382' title='7 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/7808137054854309382'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/7808137054854309382'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/06/notes-on-open-sourcing-abandoned-code.html' title='Notes on open-sourcing abandoned code'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>7</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-2633484454323697459</id><published>2017-06-06T20:21:00.004-04:00</published><updated>2017-06-06T20:24:44.007-04:00</updated><title type='text'>What about other leaked printed documents?</title><content type='html'>So nat-sec pundit/expert Marci Wheeler (&lt;a href=&quot;https://twitter.com/emptywheel&quot;&gt;@emptywheel&lt;/a&gt;) asks about those DIOG docs leaked last year. They were leaked in printed form, then scanned in an published by The Intercept. Did they have these nasty yellow dots that track the source? If not, why not?&lt;br /&gt;&lt;br /&gt;The answer is that the scanned images of the DIOG doc don&#39;t have dots. I don&#39;t know why. One reason might be that the scanner didn&#39;t pick them up, as it&#39;s much lower quality than the scanner for the Russian hacking docs. Another reason is that the printer used my not have printed them -- while most printers do print such dots, some printers don&#39;t. A third possibility is that somebody used a tool to strip the dots from scanned images. I don&#39;t think such a tool exists, but it wouldn&#39;t be hard to write.&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;&lt;h3&gt;Scanner quality&lt;/h3&gt;The printed docs are &lt;a href=&quot;https://www.documentcloud.org/documents/2934087-DIOG-Appendix-Media-NSLs.html#document/p1&quot;&gt;here&lt;/a&gt;. They are full of whitespace where it should be easy to see these dots, but they appear not to be there. If we reverse the image, we see something like the following from the first page of the DIOG doc:&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-5B6iyt0s8zo/WTdD_eajaSI/AAAAAAAAErI/QS5Z56oDSkM1H-wGAWphtoHmc7dRr5fTQCLcB/s1600/Screenshot%2B2017-06-06%2B20.07.26.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;782&quot; data-original-width=&quot;1277&quot; height=&quot;195&quot; src=&quot;https://4.bp.blogspot.com/-5B6iyt0s8zo/WTdD_eajaSI/AAAAAAAAErI/QS5Z56oDSkM1H-wGAWphtoHmc7dRr5fTQCLcB/s320/Screenshot%2B2017-06-06%2B20.07.26.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;Compare this to the first page of the Russian hacking doc which shows the blue dots:&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-AHZjT4yd4Ko/WTdDhcSWb_I/AAAAAAAAErE/ImPw5GmW4mEnGqOJdjP5CBEGsi-S0_BbgCLcB/s1600/Screenshot%2B2017-06-06%2B20.05.18.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;761&quot; data-original-width=&quot;1171&quot; height=&quot;207&quot; src=&quot;https://1.bp.blogspot.com/-AHZjT4yd4Ko/WTdDhcSWb_I/AAAAAAAAErE/ImPw5GmW4mEnGqOJdjP5CBEGsi-S0_BbgCLcB/s320/Screenshot%2B2017-06-06%2B20.05.18.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;What we see in the difference is that the scan of the Russian doc is much better. We see that in the background, which is much noisier, able to pick small things like the blue dots. In contrast, the DIOG scan is worse. We don&#39;t see much detail in the background.&lt;br /&gt;&lt;br /&gt;Looking closer, we can see the lack of detail. We also see banding, which indicates other defects of the scanner.&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-ifKtw9BGk24/WTdC2knjCgI/AAAAAAAAErA/gultcftwbuwdzK3jDbiASoEkmCg8cjzZQCEw/s1600/diog-reversed.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;724&quot; data-original-width=&quot;1273&quot; height=&quot;181&quot; src=&quot;https://3.bp.blogspot.com/-ifKtw9BGk24/WTdC2knjCgI/AAAAAAAAErA/gultcftwbuwdzK3jDbiASoEkmCg8cjzZQCEw/s320/diog-reversed.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Thus, one theory is that the scanner just didn&#39;t pick up the dots from the page.&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Not all printers&lt;/h3&gt;&lt;div&gt;The EFF &lt;a href=&quot;https://www.eff.org/pages/list-printers-which-do-or-do-not-display-tracking-dots&quot;&gt;has a page&lt;/a&gt; where they document which printers produce these dots. Samsung and Okidata don&#39;t, virtually all the other printers do.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;The person who printed these might&#39;ve gotten lucky. Or, they may have carefully chosen a printer that does not produce these dots.&lt;br /&gt;&lt;br /&gt;The reason Reality Winner exfiltrated these documents by printing them is that the NSA had probably clamped down on USB thumb drives for secure facilities. Walking through the metal detector with a chip hidden in a Rubic&#39;s Cube (as shown in the Snowden movie) will not work anymore.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-QcOrPRlIzdQ/WTdGLPdc7OI/AAAAAAAAErU/2Mn9g1em4-IYiNWL9QyWdb1L3yAdkSn_gCLcB/s1600/rubics.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;413&quot; data-original-width=&quot;620&quot; height=&quot;213&quot; src=&quot;https://1.bp.blogspot.com/-QcOrPRlIzdQ/WTdGLPdc7OI/AAAAAAAAErU/2Mn9g1em4-IYiNWL9QyWdb1L3yAdkSn_gCLcB/s320/rubics.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;But, presumably, the FBI is not so strict, and a person would be able to exfiltrate the digital docs from FBI facilities, and print elsewhere.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;Conclusion&lt;/h3&gt;By pure chance, those DIOG docs should&#39;ve had visible tracking dots. Either the person leaking the docs knew about this and avoided it, or they got lucky.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/2633484454323697459/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=2633484454323697459' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/2633484454323697459'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/2633484454323697459'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/06/what-about-other-leaked-printed.html' title='What about other leaked printed documents?'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-5B6iyt0s8zo/WTdD_eajaSI/AAAAAAAAErI/QS5Z56oDSkM1H-wGAWphtoHmc7dRr5fTQCLcB/s72-c/Screenshot%2B2017-06-06%2B20.07.26.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-6649013000572689376</id><published>2017-06-05T22:06:00.001-04:00</published><updated>2017-06-12T23:13:03.035-04:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="leak"/><category scheme="http://www.blogger.com/atom/ns#" term="NSA"/><category scheme="http://www.blogger.com/atom/ns#" term="Reality Leigh Winner"/><category scheme="http://www.blogger.com/atom/ns#" term="The Intercept"/><title type='text'>How The Intercept Outed Reality Winner</title><content type='html'>Today, The Intercept &lt;a href=&quot;https://theintercept.com/2017/06/05/top-secret-nsa-report-details-russian-hacking-effort-days-before-2016-election/&quot;&gt;released documents on election tampering&lt;/a&gt; from an NSA leaker. Later, the &lt;a href=&quot;https://www.justice.gov/opa/press-release/file/971331/download&quot;&gt;arrest warrant&lt;/a&gt;&amp;nbsp;request for an NSA contractor named &quot;Reality Winner&quot; was published, showing how they tracked her down because she had printed out the documents and sent them to The Intercept. The document posted by the Intercept isn&#39;t the original PDF file, but a PDF containing the pictures of the printed version that was then later scanned in.&lt;br /&gt;&lt;br /&gt;As the warrant says, she confessed while interviewed by the FBI. Had she not confessed, the documents still contained enough evidence to convict her: the printed document was digitally watermarked.&lt;br /&gt;&lt;br /&gt;The problem is that &lt;a href=&quot;https://www.eff.org/pages/list-printers-which-do-or-do-not-display-tracking-dots&quot;&gt;most new printers&lt;/a&gt; print nearly invisibly yellow dots that track down exactly when and where documents, any document, is printed. Because the NSA logs all printing jobs on its printers, it can use this to match up precisely who printed the document.&lt;br /&gt;&lt;br /&gt;In this post, I show how.&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;You can download the document from &lt;a href=&quot;https://theintercept.com/2017/06/05/top-secret-nsa-report-details-russian-hacking-effort-days-before-2016-election/&quot;&gt;the original article here&lt;/a&gt;. You can then open it in a PDF viewer, such as the normal &quot;Preview&quot; app on macOS. Zoom into some whitespace on the document, and take a screenshot of this. On macOS, hit [Command-Shift-3] to take a screenshot of a window. There are yellow dots in this image, but you can barely see them, especially if your screen is dirty.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-M5wdjjs4Ttw/WTYIYAMuuFI/AAAAAAAAEoI/FOyktJRGWCsCT1beLGdlkPEkyWLDtCpMwCEw/s1600/Screenshot%2B2017-06-05%2B21.38.05.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;629&quot; data-original-width=&quot;937&quot; height=&quot;214&quot; src=&quot;https://2.bp.blogspot.com/-M5wdjjs4Ttw/WTYIYAMuuFI/AAAAAAAAEoI/FOyktJRGWCsCT1beLGdlkPEkyWLDtCpMwCEw/s320/Screenshot%2B2017-06-05%2B21.38.05.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;We need to highlight the yellow dots. Open the screenshot in an image editor, such as the &quot;Paintbrush&quot; program built into macOS. Now use the option to &quot;Invert Colors&quot; in the image, to get something like this. You should see a roughly rectangular pattern checkerboard in the whitespace.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-7JY1dkZVj5U/WTYJOsxskYI/AAAAAAAAEoU/59a_oDCWB9YviGscFvGL2nxM_eG1wuQ3wCLcB/s1600/Screenshot%2B2017-06-05%2B21.45.08.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;723&quot; data-original-width=&quot;1037&quot; height=&quot;223&quot; src=&quot;https://3.bp.blogspot.com/-7JY1dkZVj5U/WTYJOsxskYI/AAAAAAAAEoU/59a_oDCWB9YviGscFvGL2nxM_eG1wuQ3wCLcB/s320/Screenshot%2B2017-06-05%2B21.45.08.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;It&#39;s upside down, so we need to rotate it 180 degrees, or flip-horizontal and flip-vertical:&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-oyyoTVWyr9c/WTYJcAMoNDI/AAAAAAAAEoY/2Ae2SH8HODYYGuXGT2FUzmy6A85fL-cVwCLcB/s1600/Screenshot%2B2017-06-05%2B21.46.13.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;723&quot; data-original-width=&quot;1037&quot; height=&quot;223&quot; src=&quot;https://2.bp.blogspot.com/-oyyoTVWyr9c/WTYJcAMoNDI/AAAAAAAAEoY/2Ae2SH8HODYYGuXGT2FUzmy6A85fL-cVwCLcB/s320/Screenshot%2B2017-06-05%2B21.46.13.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;Now we go to the &lt;a href=&quot;https://w2.eff.org/Privacy/printers/docucolor/#program&quot;&gt;EFF page&lt;/a&gt; and manually click on the pattern so that their tool can decode the meaning:&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-zDYM2r25ong/WTYKbvh0UiI/AAAAAAAAEok/NyvGvhIRDHQgNb35eD3_FLYMBQ_Kn-XDACLcB/s1600/Screenshot%2B2017-06-05%2B21.50.07.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;523&quot; data-original-width=&quot;684&quot; height=&quot;244&quot; src=&quot;https://4.bp.blogspot.com/-zDYM2r25ong/WTYKbvh0UiI/AAAAAAAAEok/NyvGvhIRDHQgNb35eD3_FLYMBQ_Kn-XDACLcB/s320/Screenshot%2B2017-06-05%2B21.50.07.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;This produces the following result:&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-E4ZxABIhTrM/WTYKxArN0QI/AAAAAAAAEoo/UQazTP5w-cgY9O0WUvwxOW8V3JPuLZw_QCLcB/s1600/Screenshot%2B2017-06-05%2B21.51.39.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;732&quot; data-original-width=&quot;684&quot; height=&quot;320&quot; src=&quot;https://1.bp.blogspot.com/-E4ZxABIhTrM/WTYKxArN0QI/AAAAAAAAEoo/UQazTP5w-cgY9O0WUvwxOW8V3JPuLZw_QCLcB/s320/Screenshot%2B2017-06-05%2B21.51.39.png&quot; width=&quot;299&quot; /&gt;&lt;/a&gt;&lt;/div&gt;The document leaked by the Intercept was from a printer with model number 54, serial number 29535218. The document was printed on May 9, 2017 at 6:20. The NSA almost certainly has a record of who used the printer at that time.&lt;br /&gt;&lt;br /&gt;The situation is similar to how &lt;a href=&quot;https://www.wired.com/2012/12/how-vice-got-john-mcafee-caught/&quot;&gt;Vice outed the location of John McAfee&lt;/a&gt;, by publishing JPEG photographs of him with the EXIF GPS coordinates still hidden in the file. Or it&#39;s how PDFs are often redacted by adding a black bar on top of image, leaving the underlying contents still in the file for people to read, such as in this &lt;a href=&quot;https://www.techdirt.com/articles/20140128/08542126021/new-york-times-suffers-redaction-failure-exposes-name-nsa-agent-targeted-network-uploaded-pdf.shtml&quot;&gt;NYTime accident with a Snowden document&lt;/a&gt;. Or how opening a Microsoft Office document, then accidentally saving it, leaves fingerprints identifying you behind, as repeatedly &lt;a href=&quot;https://arstechnica.com/security/2016/06/guccifer-leak-of-dnc-trump-research-has-a-russians-fingerprints-on-it/&quot;&gt;happened with the Wikileaks election leaks&lt;/a&gt;. These sorts of failures are common with leaks. To fix this yellow-dot problem, use a black-and-white printer, black-and-white scanner, or convert to black-and-white with an image editor.&lt;br /&gt;&lt;br /&gt;Copiers/printers have two features put in there by the government to be evil to you. The first is that scanners/copiers (when using scanner feature) recognize a barely visible pattern on currency, so that they can&#39;t be used to counterfeit money, as shown on this $20 below:&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-e_rpViQnOCk/WTYN4PSsN7I/AAAAAAAAEo0/BbHOQLrSX9Eal7MqBPIQP9NfiKaPcTPlACLcB/s1600/IMG_4838.JPG&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;1600&quot; data-original-width=&quot;1200&quot; height=&quot;200&quot; src=&quot;https://4.bp.blogspot.com/-e_rpViQnOCk/WTYN4PSsN7I/AAAAAAAAEo0/BbHOQLrSX9Eal7MqBPIQP9NfiKaPcTPlACLcB/s200/IMG_4838.JPG&quot; width=&quot;150&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;The second is that when they print things out, they includes these invisible dots, so documents can be tracked. In other words, those dots on bills prevent them from being scanned in, and the dots produced by printers help the government track what was printed out.&lt;br /&gt;&lt;br /&gt;Yes, this code the government forces into our printers is a violation of our 3rd Amendment rights.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;hr /&gt;&lt;br /&gt;While I was writing up this post, these tweets appeared first:&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;oh wow, &lt;a href=&quot;https://twitter.com/knowtheory&quot;&gt;@knowtheory&lt;/a&gt; just pointed out the microdots on the first and late page of the intercept&#39;s docs. printer dots kill puppies, folks. &lt;a href=&quot;https://t.co/w8qxJ9zvhf&quot;&gt;pic.twitter.com/w8qxJ9zvhf&lt;/a&gt;&lt;/div&gt;â Quinn&#39;s internet ð» (@quinnnorton) &lt;a href=&quot;https://twitter.com/quinnnorton/status/871883733032415236&quot;&gt;June 6, 2017&lt;/a&gt;&lt;/blockquote&gt;&lt;br /&gt;&lt;script async=&quot;&quot; charset=&quot;utf-8&quot; src=&quot;//platform.twitter.com/widgets.js&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;The date in the microdots is 6:20 2017/05/09 from a printer with serial number #5429535218, according to &lt;a href=&quot;https://t.co/PVVm7AAjlL&quot;&gt;https://t.co/PVVm7AAjlL&lt;/a&gt; &lt;a href=&quot;https://t.co/6BY7Y3MFhL&quot;&gt;pic.twitter.com/6BY7Y3MFhL&lt;/a&gt;&lt;/div&gt;â Tim Bennett (@flashman) &lt;a href=&quot;https://twitter.com/flashman/status/871896475902631936&quot;&gt;June 6, 2017&lt;/a&gt;&lt;/blockquote&gt;&lt;br /&gt;&lt;script async=&quot;&quot; charset=&quot;utf-8&quot; src=&quot;//platform.twitter.com/widgets.js&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;hr /&gt;&lt;br /&gt;Comments:&lt;br /&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=14494818&quot;&gt;https://news.ycombinator.com/item?id=14494818&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/6649013000572689376/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=6649013000572689376' title='75 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/6649013000572689376'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/6649013000572689376'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/06/how-intercept-outed-reality-winner.html' title='How The Intercept Outed Reality Winner'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-M5wdjjs4Ttw/WTYIYAMuuFI/AAAAAAAAEoI/FOyktJRGWCsCT1beLGdlkPEkyWLDtCpMwCEw/s72-c/Screenshot%2B2017-06-05%2B21.38.05.png" height="72" width="72"/><thr:total>75</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-7393925046003107317</id><published>2017-06-05T09:08:00.000-04:00</published><updated>2017-06-05T16:15:45.865-04:00</updated><title type='text'>Some non-lessons from WannaCry</title><content type='html'>&lt;a href=&quot;https://www.schneier.com/blog/archives/2017/06/wannacry_and_vu.html&quot;&gt;This piece&lt;/a&gt; by Bruce Schneier needs debunking. I thought I&#39;d list the things wrong with it.&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;&lt;h3&gt;The NSA 0day debate&lt;/h3&gt;Schneier&#39;s description of the problem is deceptive:&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;When the US government discovers a vulnerability in a piece of software, however, it decides between two competing equities. It can keep it secret and use it offensively, to gather foreign intelligence, help execute search warrants, or deliver malware. Or it can alert the software vendor and see that the vulnerability is patched, protecting the country -- and, for that matter, the world -- from similar attacks by foreign governments and cybercriminals. It&#39;s an either-or choice.&lt;/blockquote&gt;The government doesn&#39;t &quot;discover&quot; vulnerabilities accidentally. Instead, when the NSA has a need for something specific, it acquires the 0day, either through internal research or (more often) buying from independent researchers.&lt;br /&gt;&lt;br /&gt;The value of something is what you are willing to pay for it. If the NSA comes across a vulnerability accidentally, then the value to them is nearly zero. Obviously such vulns should be disclosed and fixed. Conversely, if the NSA is willing to pay $1 million to acquire a specific vuln for imminent use against a target, the offensive value is much greater than the fix value.&lt;br /&gt;&lt;br /&gt;What Schneier is doing is deliberately confusing the two, combing the policy for accidentally found vulns with deliberately acquired vulns.&lt;br /&gt;&lt;br /&gt;The above paragraph should read instead:&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;When the government discovers a vulnerability accidentally, it then decides to alert the software vendor to get it patched. When the government decides it needs as vuln for a specific offensive use, it acquires one that meets its needs, uses it, and keeps it secret. After spending so much money acquiring an offensive vuln, it would obviously be stupid to change this decision and not use it offensively.&lt;/blockquote&gt;&lt;br /&gt;&lt;h3&gt;Hoarding vulns&lt;/h3&gt;&lt;div&gt;Schneier also says the NSA is &quot;hoarding&quot; vulns. The word has a couple inaccurate connotations.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;One connotation is that the NSA is putting them on a heap inside a vault, not using them. The opposite is true: the NSA only acquires vulns it for which it has an active need. It uses pretty much all the vulns it acquires. That can be seen in the ShadowBroker dump, all the vulns listed are extremely useful to attackers, especially ETERNALBLUE. Efficiency is important to the NSA. Your efficiency is your basis for promotion. There are other people who make their careers finding waste in the NSA. If you are hoarding vulns and not using them, you&#39;ll quickly get ejected from the NSA.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Another connotation is that the NSA is somehow keeping the vulns away from vendors. That&#39;s like saying I&#39;m hoarding naked selfies of myself. Yes, technically I&#39;m keeping them away from you, but it&#39;s not like they ever belong to you in the first place. The same is true the NSA. Had it never acquired the ETERNALBLUE 0day, it never would&#39;ve been researched, never found.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;The VEP&lt;/h3&gt;Schneier describes the &quot;Vulnerability Equities Process&quot; or &quot;VEP&quot;, a process that is supposed to manage the vulnerabilities the government gets.&lt;br /&gt;&lt;br /&gt;There&#39;s no evidence the VEP process has ever been used, at least not with 0days acquired by the NSA. The VEP allows exceptions for important vulns, and all the NSA vulns are important, so all are excepted from the process. Since the NSA is in charge of the VEP, of course, this is at the sole discretion of the NSA. Thus, the entire point of the VEP process goes away.&lt;br /&gt;&lt;br /&gt;Moreover, it can&#39;t work in many cases. The vulns acquired by the NSA often come with clauses that mean they can&#39;t be shared.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;New classes of vulns&lt;/h3&gt;&lt;div&gt;One reason sellers forbid 0days from being shared is because they use new classes of vulnerabilities, such that sharing one 0day will effectively ruin a whole set of vulnerabilities. Schneier poo-poos this because he doesn&#39;t see new classes of vulns in the ShadowBroker set.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;This is wrong for two reasons. The first is that the ShadowBroker 0days are incomplete. There&#39;s no iOS exploits, for example, and we know that iOS is a big target of the NSA.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Secondly, I&#39;m not sure we&#39;ve sufficiently analyzed the ShadowBroker exploits yet to realize there may be a new class of vuln. It&#39;s easy to miss the fact that a single bug we see in the dump may actually be a whole new class of vulnerability. In the past, it&#39;s often been the case that a new class was named only after finding many examples.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;In any case, Schneier misses the point denying new classes of vulns exist. He should instead use the point to prove the value of disclosure, that instead of playing wack-a-mole fixing bugs one at a time, vendors would be able to fix whole classes of bugs at once.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Rediscovery&lt;/h3&gt;&lt;div&gt;Schneier cites two studies that looked at how often vulnerabilities get rediscovered. In other words, he&#39;s trying to measure the likelihood that some other government will find the bug and use it against us.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;These studies are weak, scarcely better than anecdotal evidence. Schneier&#39;s own study seems almost unrelated to the problem, and the Rand&#39;s study cannot be replicated, as it relies upon private data. Also, there is little differentiation between important bugs (like SMB/MSRPC exploits and full-chain iOS exploits) and lesser bugs.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Whether from the Rand study or from anecdotes, we have good reason to believe that the &lt;i&gt;longer&lt;/i&gt;&amp;nbsp;an 0day exists, the &lt;i&gt;less&lt;/i&gt;&amp;nbsp;likely it&#39;ll be rediscovered. Schneier argues that vulns should only be used for 6 months before being disclosed to a vendor. Anecdotes suggest otherwise, that if it hasn&#39;t been rediscovered in the first year, it likely won&#39;t ever be.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The Rand study was overwhelmingly clear on the issue that 0days are dramatically more likely to become obsolete than be rediscovered. The latest update to iOS will break an 0day, rather than somebody else rediscovering it. Win10 adoption will break older SMB exploits faster than rediscovery.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;In any case, this post is about ETERNALBLUE specifically. What we learned from this specific bug is that it was used for at least 5 year without anybody else rediscovering it (before it was leaked). Chances are good it never would&#39;ve been rediscovered, just made obsolete by Win10.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Notification is notification&lt;/h3&gt;&lt;div&gt;All disclosure has the potential of leading to worms like WannaCry. The Conficker worm of 2008, for example, was written &lt;i&gt;after&lt;/i&gt;&amp;nbsp;Microsoft patched the underlying vulnerability.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Thus, had the NSA disclosed the bug in the normal way, chances are good it &lt;i&gt;still&lt;/i&gt; would&#39;ve been used for worming ransomware.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Yes, WannaCry had a head-start because ShadowBrokers published a working exploit, but this doesn&#39;t appear to have made a difference. The Blaster worm (the first worm to compromise millions of computers) took roughly the same amount of time to create, and almost no details were made public about the vulnerability, other than the fact it was patched. (I know from personal experience -- we used diff to find what changed in the patch in order to reverse engineer the 0day).&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;In other words, the damage the NSA is responsible for isn&#39;t really the damage that came after it was patched -- that was likely to happen anyway, as it does with normal vuln disclosure. Instead, the only damage the NSA can truly be held responsible for is the damage ahead of time, such as the months (years?) the ShadowBrokers possessed the exploits before they were patched.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Disclosed doesn&#39;t mean fixed&lt;/h3&gt;&lt;div&gt;One thing we&#39;ve learned from 30 years of disclosure is that vendors ignore bugs.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;We&#39;ve gotten to the state where a few big companies like Microsoft and Apple will actually fix bugs, but the vast majority of vendors won&#39;t. Even Microsoft and Apple have been known to sit on tricky bugs for over a year before fixing them.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;And the only reason Microsoft and Apple have gotten to this state is because we, the community, bullied them into it. When we disclose bugs to them, we give them a deadline when we make the bug public, whether or not its been fixed.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The same goes for the NSA. If they quietly disclose bugs to vendors, in general, they won&#39;t be fixed unless the NSA also makes the bug public within a certain time frame. Either Schneier has to argue that the NSA should do such public full-disclosures, or argue that disclosures won&#39;t always lead to fixes.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Replacement SMB/MSRPC&lt;/h3&gt;&lt;div&gt;The ETERNALBLUE vuln is so valuable to the NSA that it&#39;s almost certainly seeking a replacement.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Again, I&#39;m trying to debunk the impression Schneier tries to form that somehow the NSA stumbled upon ETERNALBLUE by accident to begin with. The opposite is true: remote exploits for the SMB (port 445) or MSRPC (port 135) services are some of the most valuable vulns, and the NSA will work hard to acquire them.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;That it was leaked&lt;/h3&gt;&lt;div&gt;The only issue here is that the 0day leaked. If the NSA can&#39;t keep it&#39;s weaponized toys secret, then maybe it shouldn&#39;t have them.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Instead of processing this new piece of information, which is important, Schneier takes this opportunity to just re-hash the old inaccurate and deceptive VEP debate.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;h3&gt;Conclusion&lt;/h3&gt;&lt;/div&gt;&lt;div&gt;Except for a tiny number of people working for the NSA, none of us really know what&#39;s going on with 0days inside government. Schneier&#39;s comments seem more off-base than most. Like all activists, he deliberately uses language to deceive rather than explain (like &quot;discover&quot; instead of &quot;acquire&quot;). Like all activists, he seems obsessed with the VEP, even though as far as anybody can tell, it&#39;s not used for NSA acquired vulns. He deliberate ignores things he should be an expert in, such as how all patches/disclosures sometimes lead to worms/exploits, and how not all disclosure leads to fixes.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/7393925046003107317/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=7393925046003107317' title='6 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/7393925046003107317'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/7393925046003107317'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/06/some-non-lessons-from-wannacry.html' title='Some non-lessons from WannaCry'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>6</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-2849952714307647963</id><published>2017-06-03T10:08:00.002-04:00</published><updated>2017-06-03T11:12:04.803-04:00</updated><title type='text'>How to track that annoying pop-up</title><content type='html'>In a recent update to their Office suite on Windows, Microsoft made a mistake where every hour, for a fraction of a second, &amp;nbsp;a black window pops up on the screen. This leads many to fear their system has been infected by a virus. I thought I&#39;d document how to track this down.&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;The short answer is to use Mark Russinovich&#39;s &quot;sysinternals.com&quot; tools. He&#39;s Windows internals guru at Microsoft and has been maintaining a suite of tools that are critical for Windows system maintenance and security. Copy all the tools from &quot;&lt;a href=&quot;https://live.sysinternals.com/&quot;&gt;https://live.sysinternals.com&lt;/a&gt;&quot;. Also, you can copy with Microsoft Windows Networking (SMB).&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-uWxrZFIOk6w/WTK619eDkFI/AAAAAAAAEnI/znuZaMp43lYS0qxT4dNk4mldZ4RqNXaAwCLcB/s1600/sysmon-download.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;296&quot; data-original-width=&quot;627&quot; height=&quot;151&quot; src=&quot;https://1.bp.blogspot.com/-uWxrZFIOk6w/WTK619eDkFI/AAAAAAAAEnI/znuZaMp43lYS0qxT4dNk4mldZ4RqNXaAwCLcB/s320/sysmon-download.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;Of these tools, what we want is something that looks at &quot;processes&quot;. There are several tools that do this, but focus on processes that are currently running. What we want is something that monitors process creation.&lt;br /&gt;&lt;br /&gt;The tool for that is &quot;sysmon.exe&quot;. It can monitor not only process creation, but a large number of other system events that a techy can use to see what the system has been doing, and if you are infected with a virus.&lt;br /&gt;&lt;br /&gt;Sysmon has a fairly complicated configuration file, and if you enabled everything, you&#39;d soon be overwhelmed with events. @SwiftOnSecurity has published a configuration file they use in the real world in real environment that cuts down on the noise, and focuses on events that are really important. It enables monitoring of &quot;process creation&quot;, but filters out know good processes that might fill up your logs. You grab the file here. Save it to the same directory to where you saved Sysmon:&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;&lt;a href=&quot;https://raw.githubusercontent.com/SwiftOnSecurity/sysmon-config/master/sysmonconfig-export.xml&quot;&gt;https://raw.githubusercontent.com/SwiftOnSecurity/sysmon-config/master/sysmonconfig-export.xml&lt;/a&gt;&lt;/blockquote&gt;Once you&#39;ve done it, run the following command to activate the Sysmon monitoring service using this configuration file by running the following command as Administrator. (Right click on the Command Prompt icon and select More/Run as Administrator).&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;sysmon.exe -accepteula -i sysmonconfig-export.xml&lt;/blockquote&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-zN66WBs7Ncs/WTLD7ROuisI/AAAAAAAAEns/LXrCHw8k5WM6N0CDWAeTp2ammHpCql0WQCLcB/s1600/sysmon-install1.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;368&quot; data-original-width=&quot;698&quot; height=&quot;168&quot; src=&quot;https://4.bp.blogspot.com/-zN66WBs7Ncs/WTLD7ROuisI/AAAAAAAAEns/LXrCHw8k5WM6N0CDWAeTp2ammHpCql0WQCLcB/s320/sysmon-install1.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-uj_XFwHAIWM/WTLD9DsqNdI/AAAAAAAAEnw/W3U3u9FXWKMXml-zm7OIhihMKujuzIMDQCLcB/s1600/sysmon-install2.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;495&quot; data-original-width=&quot;698&quot; height=&quot;226&quot; src=&quot;https://1.bp.blogspot.com/-uj_XFwHAIWM/WTLD9DsqNdI/AAAAAAAAEnw/W3U3u9FXWKMXml-zm7OIhihMKujuzIMDQCLcB/s320/sysmon-install2.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Now sit back and relax until that popup happens again. Right after it does, go into the &quot;Event Viewer&quot; application (click on Windows menu and type &quot;Event Viewer&quot;, or run &#39;eventvwr.exe&#39;. Now you have to find where the sysmon events are located, since there are so many things that log events.&lt;br /&gt;&lt;br /&gt;The Sysmon events are under the path:&lt;br /&gt;&lt;blockquote class=&quot;tr_bq&quot;&gt;Applications and Services Logs\Microsoft\Windows\Sysmon\operational&lt;/blockquote&gt;When you open that up, you should see the top event is the one we are looking for. Actually, the very top event is launching the process &quot;eventvwr.exe&quot;, but the next one down is our event. It looks like this:&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-XdeFMyS8Yd0/WTK_OFXp30I/AAAAAAAAEnY/YGxQ3z7UBIc7pS8TCJMDDc8vEzMOyw2kACLcB/s1600/sysmon-eventvwr.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;863&quot; data-original-width=&quot;939&quot; height=&quot;294&quot; src=&quot;https://3.bp.blogspot.com/-XdeFMyS8Yd0/WTK_OFXp30I/AAAAAAAAEnY/YGxQ3z7UBIc7pS8TCJMDDc8vEzMOyw2kACLcB/s320/sysmon-eventvwr.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;Drilling down into the details, we find the the offending thing causing those annoying popups is &quot;officebackgroundtask.exe&quot; in Office.&lt;br /&gt;&lt;br /&gt;We can see it&#39;s started by the &quot;Schedule&quot; service. This means we can go look at it with &quot;autoruns.exe&quot;, another Sysinternals tool that looks at all the things configured to automatically start when you start/login to your computer.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-2NSGLMrDsTo/WTK_uyTCMlI/AAAAAAAAEnc/EO0kG-qZybIOxCQVnWfg8Hia_cfywFjTQCLcB/s1600/sysmon-autoruns.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;557&quot; data-original-width=&quot;769&quot; height=&quot;231&quot; src=&quot;https://1.bp.blogspot.com/-2NSGLMrDsTo/WTK_uyTCMlI/AAAAAAAAEnc/EO0kG-qZybIOxCQVnWfg8Hia_cfywFjTQCLcB/s320/sysmon-autoruns.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;They are pink, which [update] is how autoruns shows they are &quot;unsigned&quot; programs (Microsoft&#39;s programs should, normally, always be signed, so this should be suspicious). I&#39;m assuming the suspicious thing is that they run in the user&#39;s context, rather than system context, creating popup screens.&lt;br /&gt;&lt;br /&gt;Autoruns allows you to do a bunch of things. You can click on the [X] box and disable it from running in the future. You can [right-click] in order to upload to Virus Total and check if it&#39;s a known virus.&lt;br /&gt;&lt;br /&gt;You can also double-click, to open the Task Scheduler, and see the specific configuration. You can see here that this thing is scheduled to run every hour:&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-s8Mvdcmd5FQ/WTLA_bRVQ3I/AAAAAAAAEnk/_FhM_8Q4A08dbvx3lGNqFuXc9pvmn50AACLcB/s1600/sysmon-tasksched.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; data-original-height=&quot;518&quot; data-original-width=&quot;853&quot; height=&quot;194&quot; src=&quot;https://2.bp.blogspot.com/-s8Mvdcmd5FQ/WTLA_bRVQ3I/AAAAAAAAEnk/_FhM_8Q4A08dbvx3lGNqFuXc9pvmn50AACLcB/s320/sysmon-tasksched.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;h3&gt;Conclusion&lt;/h3&gt;&lt;div&gt;So the conclusions are this.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;To solve this particular problem of identifying what&#39;s causing a process to flash a screen occasionally, use sysmon.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;To solve generation problems like this, use Sysinternals suite of applications.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I haven&#39;t been, but I am now, using&amp;nbsp;@SwiftOnSecurity&#39;s sysmon configuration just to monitor the security of my computers. I should probably install something to move a copy of the logs off the system.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3&gt;Some Notes&lt;/h3&gt;&lt;div&gt;Some URLs:&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://www.rsaconference.com/writable/presentations/file_upload/hta-w05-tracking_hackers_on_your_network_with_sysinternals_sysmon.pdf&quot;&gt;https://www.rsaconference.com/writable/presentations/file_upload/hta-w05-tracking_hackers_on_your_network_with_sysinternals_sysmon.pdf&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://technet.microsoft.com/en-us/sysinternals&quot;&gt;https://technet.microsoft.com/en-us/sysinternals&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://blogs.technet.microsoft.com/motiba/2016/10/18/sysinternals-sysmon-unleashed/&quot;&gt;https://blogs.technet.microsoft.com/motiba/2016/10/18/sysinternals-sysmon-unleashed/&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/SwiftOnSecurity/sysmon-config&quot;&gt;https://github.com/SwiftOnSecurity/sysmon-config&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Some tweets:&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;div dir=&quot;ltr&quot; lang=&quot;fr&quot;&gt;Sysmon&lt;/div&gt;â Mark Russinovich (@markrussinovich) &lt;a href=&quot;https://twitter.com/markrussinovich/status/870734968078573568&quot;&gt;June 2, 2017&lt;/a&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;script async=&quot;&quot; charset=&quot;utf-8&quot; src=&quot;//platform.twitter.com/widgets.js&quot;&gt;&lt;/script&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;To disable it, open Task Scheduler, go to Task Scheduler Library &amp;gt; Microsoft &amp;gt; Office, disable &quot;OfficeBackgroundTaskHandlerRegistration&quot; &lt;a href=&quot;https://t.co/mROwfzUMBT&quot;&gt;https://t.co/mROwfzUMBT&lt;/a&gt;&lt;/div&gt;â MalwareTech (@MalwareTechBlog) &lt;a href=&quot;https://twitter.com/MalwareTechBlog/status/868979694221352964&quot;&gt;May 28, 2017&lt;/a&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;script async=&quot;&quot; charset=&quot;utf-8&quot; src=&quot;//platform.twitter.com/widgets.js&quot;&gt;&lt;/script&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;Nice writeup. Pink means unsigned.&lt;/div&gt;â Mark Russinovich (@markrussinovich) &lt;a href=&quot;https://twitter.com/markrussinovich/status/871021193121284101&quot;&gt;June 3, 2017&lt;/a&gt;&lt;/blockquote&gt;&lt;br /&gt;&lt;script async=&quot;&quot; charset=&quot;utf-8&quot; src=&quot;//platform.twitter.com/widgets.js&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/2849952714307647963/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=2849952714307647963' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/2849952714307647963'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/2849952714307647963'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/06/how-to-track-that-annoying-pop-up.html' title='How to track that annoying pop-up'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://1.bp.blogspot.com/-uWxrZFIOk6w/WTK619eDkFI/AAAAAAAAEnI/znuZaMp43lYS0qxT4dNk4mldZ4RqNXaAwCLcB/s72-c/sysmon-download.png" height="72" width="72"/><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-7433354591506460437</id><published>2017-05-30T08:01:00.002-04:00</published><updated>2017-05-30T08:25:36.558-04:00</updated><title type='text'>I want to talk for a moment about tolerance</title><content type='html'>&lt;div class=&quot;MsoNormal&quot;&gt;This post is in response to this Twitter thread. I was going to do a series of tweets in response, but as the number grew, I thought it&#39;d better be done in a blog.&lt;br /&gt;&lt;br /&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;I want to talk for a moment about free speech advocacy. This&#39;ll be a thread, 1/many.&lt;/div&gt;â Jillian (@jilliancyork) &lt;a href=&quot;https://twitter.com/jilliancyork/status/869459641062666240&quot;&gt;May 30, 2017&lt;/a&gt;&lt;/blockquote&gt;&lt;br /&gt;She thinks we are fighting for the rights of Nazis. We aren&#39;t -- indeed, the fact that she thinks we are is exactly the problem. They aren&#39;t Nazis.&lt;br /&gt;&lt;br /&gt;The issue is not about a slippery slope that first Nazi&#39;s lose free speech, then other groups start losing their speech as well. The issue is that it&#39;s a slippery slope that more and more people get labeled a Nazi. And we are already far down that slope.&lt;br /&gt;&lt;br /&gt;The &quot;alt-right&quot; is a diverse group. Like any group. Vilifying the entire alt-right by calling them Nazi&#39;s is like lumping all Muslims in with ISIS or Al Qaeda. We really don&#39;t have Nazi&#39;s in America. Even White Nationalists don&#39;t fit the bill. Nazism was about totalitarianism, real desire to exterminate Jews, lebensraum, and Aryan superiority. Sure, some of these people exist, but they are a fringe, even among the alt-right.&lt;br /&gt;&lt;br /&gt;It&#39;s at this point we need to discuss words like &quot;tolerance&quot;. I don&#39;t think it means what you think it means.&lt;br /&gt;&lt;br /&gt;The idea of tolerance is that reasonable people can disagree. You still believe you are right, and the other person is wrong, but you accept that they are nonetheless a reasonable person with good intentions, and that they don&#39;t need to be punished for holding the wrong opinion.&lt;br /&gt;&lt;br /&gt;Gay rights is a good example. I agree with you that there is only one right answer to this. Having spent nights holding my crying gay college roommate, because his father hated gays, has filled me with enormous hatred and contempt for people like his father. I&#39;ve done my fair share shouting at people for anti-gay slurs.&lt;br /&gt;&lt;br /&gt;Yet on the other hand, progressive icons like Barack Obama and Hillary Clinton have had evolving positions on gay rights issues, such as having opposed gay marriage at one time.&lt;br /&gt;&lt;br /&gt;Tolerance means accepting that a person is reasonable, intelligent, and well-meaning -- even if they oppose gay marriage. It means accepting that Hillary and Obama were reasonable people, even when they were vocally opposing gay marriage.&lt;br /&gt;&lt;br /&gt;I&#39;m libertarian. Like most libertarians, I support wide open borders, letting any immigrant across the border for any reason. To me, Hillary&#39;s and Obama&#39;s immigration policies are almost as racist as Trump&#39;s. I have to either believe all you people supporting Hillary/Obama are irredeemably racist -- or that well-meaning, good people can disagree about immigration.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;I could go through a long list of issues that separate the progressive left and alt-right, and my point would always be the same. While people disagree on issues, and I have my own opinions about which side is right, there are reasonable people on both sides. If there are issues that divide our country down the middle, then by definition, both sides are equally reasonable. The problem with the progressive left is that they do not tolerate this. They see the world as being between one half who hold the correct opinions, and the other half who are unreasonable.&lt;br /&gt;&lt;br /&gt;What defines the &quot;alt-right&quot; is not Nazism or White Nationalism, but the reaction of many on the right to intolerance of many on the left. Every time somebody is punished and vilified for uttering what is in fact a reasonable difference of opinion, they join the &quot;alt-right&quot;.&lt;br /&gt;&lt;br /&gt;The issue at stake here, the issue that the ACLU is defending, is after that violent attack on the Portland train by an extremist, the city is denying all &quot;alt-right&quot; protesters the right to march. It&#39;s blaming all those of the &quot;alt-right&quot; for the actions of one of their member. It&#39;s similar to cities blocking Muslims from building a mosque because of extremists like ISIS and Al Qaeda, or disturbed individuals who carry out violent attacks in the name of Islam.&lt;br /&gt;&lt;br /&gt;This is not just a violation of the First Amendment rights, it&#39;s an &lt;i&gt;obvious&lt;/i&gt; one. As the Volokh Conspiracy documents, the &lt;a href=&quot;https://www.washingtonpost.com/news/volokh-conspiracy/wp/2017/05/29/portland-mayor-urges-federal-government-to-revoke-permit-for-alt-right-demonstration-on-the-theory-that-hate-speech-is-not-protected/&quot;&gt;courts have ruled&lt;/a&gt; many times on this issue. There is no doubt that the &quot;alt-right&quot; has the right to march, and that the city&#39;s efforts to deny them this right is a blatant violation of the constitution.&lt;br /&gt;&lt;br /&gt;What we are defending here is not the rights of actual Nazi&#39;s to march (as the courts famous ruled was still legitimate speech in Skokie, Illinois), but the rights of non-Nazi&#39;s to march, most who have legitimate, reasonable (albeit often wrong) grievances to express. This speech is clearly being suppressed by gun wielding thugs in Portland, Oregon.&lt;br /&gt;&lt;br /&gt;Those like Jillian see this as dealing with unreasonable speech, we see this as a problem of tolerably wrong speech. Those like Jillian York aren&#39;t defending the right to free speech because, in their minds, they&#39;ve vilified the people they disagree with. But that&#39;s that&#39;s exactly when, and only when, free speech needs our protection, when those speaking out have been vilified, and their repression seems just. Look at how Russia suppresses supporters of gay rights, with exactly this sort of vilification, whereby the majority of the populace sees the violence and policing as a legitimate response to speech that should not be free.&lt;br /&gt;&lt;br /&gt;We aren&#39;t fighting a slippery slope here, by defending Nazis. We&#39;ve already slid down that slope, where reasonable people&#39;s rights are being violated. We are fighting to get back up top.&lt;br /&gt;&lt;br /&gt;--&amp;gt; --&amp;gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/7433354591506460437/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=7433354591506460437' title='5 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/7433354591506460437'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/7433354591506460437'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/05/i-want-to-talk-for-moment-about.html' title='I want to talk for a moment about tolerance'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>5</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-76489203802659926</id><published>2017-05-22T21:46:00.004-04:00</published><updated>2017-05-22T21:46:37.855-04:00</updated><title type='text'>Houston we have a problem!</title><content type='html'>&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-TxXwfPT52MQ/WSOOW-KMcnI/AAAAAAAAEl4/CqM_KdqirHwXdn-tBrOK19hAZKbH7u4EQCLcB/s1600/etidal-0.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;131&quot; src=&quot;https://3.bp.blogspot.com/-TxXwfPT52MQ/WSOOW-KMcnI/AAAAAAAAEl4/CqM_KdqirHwXdn-tBrOK19hAZKbH7u4EQCLcB/s320/etidal-0.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;Of the many undesirable results of the Space Program is the fetishization of the &quot;mission control center&quot;, with it&#39;s rows of workstations facing a common central screen. Ever since, anybody with any sort of mission now has a similar control center.&lt;br /&gt;&lt;br /&gt;It&#39;s a pain for us in the cybersecurity community because every organization wants a &quot;security operations center&quot; laid out the same way. The point of he room isn&#39;t to create something that&#39;s efficient for working, but one that will impress visitors. The things done to impress customers can often make an already difficult job even more difficult.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-yKUYjvp94Yk/WSOO-2t8wFI/AAAAAAAAEmA/lqmOCDcTb_U31JKasJz8OjEgDnQxNVPVwCLcB/s1600/etidal-4.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;196&quot; src=&quot;https://3.bp.blogspot.com/-yKUYjvp94Yk/WSOO-2t8wFI/AAAAAAAAEmA/lqmOCDcTb_U31JKasJz8OjEgDnQxNVPVwCLcB/s320/etidal-4.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;I point this out because of the &quot;glowing globe&quot; picture from President Trump&#39;s visit to Saudi Arabia. It&#39;s supposed to celebrate the opening of the &quot;Global Center for Combating Extremist Ideology&quot; (&lt;a href=&quot;http://etidal.org/&quot;&gt;http://etidal.org&lt;/a&gt;). Zoom the camera out a bit, and you can see it&#39;s the mission control center from hell.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-X8cM-7gemJY/WSOQGV_QOvI/AAAAAAAAEmM/sCuvzaQRuuYwX-8h3xoXM5wRoC8YUyRNACLcB/s1600/etidal-1.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;172&quot; src=&quot;https://3.bp.blogspot.com/-X8cM-7gemJY/WSOQGV_QOvI/AAAAAAAAEmM/sCuvzaQRuuYwX-8h3xoXM5wRoC8YUyRNACLcB/s320/etidal-1.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-d_Wm39Zoqss/WSOQQQ6uyUI/AAAAAAAAEmQ/2LIPo_7kfeswvBWDoosURyDktmLgsTaAACLcB/s1600/etidal-2.jpg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;180&quot; src=&quot;https://4.bp.blogspot.com/-d_Wm39Zoqss/WSOQQQ6uyUI/AAAAAAAAEmQ/2LIPo_7kfeswvBWDoosURyDktmLgsTaAACLcB/s320/etidal-2.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;Manually counting, I see three sides, each with slightly more than 100 workstations/employees, or more than 300 in total. I don&#39;t know if they intend all three sections to focus on the same sets of problems, or if they are split into three different tasks (e.g. broadcast TV vs. Internet content). Their &lt;a href=&quot;http://etidal.org/files/En_Etidal.pdf&quot;&gt;brochure&lt;/a&gt; is unclear. I suspect in the long it&#39;ll be full of third country nations from a broad swath of Muslim nations who can speak the local languages and dialects, working in a sweat-shop manner.&lt;br /&gt;&lt;br /&gt;In any case, it&#39;s clear that the desire for show/spectacle has far outstripped any practical use.&lt;br /&gt;&lt;br /&gt;The more I read about this, the more Orwellian it seems. Rather than opposing ISIS&#39;s violence, it seems more intent on promoting a Saudi ideology. The whole spectacle seems intent on tricking the Trump administration into supporting something it really should be opposing.&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/76489203802659926/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=76489203802659926' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/76489203802659926'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/76489203802659926'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/05/houston-we-have-problem.html' title='Houston we have a problem!'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://3.bp.blogspot.com/-TxXwfPT52MQ/WSOOW-KMcnI/AAAAAAAAEl4/CqM_KdqirHwXdn-tBrOK19hAZKbH7u4EQCLcB/s72-c/etidal-0.jpg" height="72" width="72"/><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-4281553033602875109</id><published>2017-05-12T02:07:00.005-04:00</published><updated>2017-05-12T02:51:43.144-04:00</updated><title type='text'>Some notes on Trump&#39;s cybersecurity Executive Order</title><content type='html'>President Trump has finally signed an &lt;a href=&quot;https://www.whitehouse.gov/the-press-office/2017/05/11/presidential-executive-order-strengthening-cybersecurity-federal&quot;&gt;executive order on &quot;cybersecurity&quot;&lt;/a&gt;. The first draft during his first weeks in power were hilariously ignorant. The current draft, though, is pretty reasonable as such things go. I&#39;m just reading the plain language of the draft as a cybersecurity expert, picking out the bits that interest me. In reality, there&#39;s probably all sorts of politics in the background that I&#39;m missing, so I may be wildly off-base.&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Holding managers accountable&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;This is a great idea in theory. But government heads are rarely accountable for anything, so it&#39;s hard to see if they&#39;ll have the nerve to implement this in practice. When the next breech happens, we&#39;ll see if anybody gets fired.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&quot;antiquated and difficult to defend Information Technology&quot;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;The government uses laughably old computers sometimes. Forces in government wants to upgrade them. This won&#39;t work. Instead of replacing old computers, the budget will simply be used to add new computers. The old computers will still stick around.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&quot;Legacy&quot; is a problem that money can&#39;t solve. Programmers know how to build small things, but not big things. Everything starts out small, then becomes big gradually over time through constant small additions. What you have now is big legacy systems. Attempts to replace a big system with a built-from-scratch big system will fail, because engineers don&#39;t know how to build big systems. This will suck down any amount of budget you have with failed multi-million dollar projects.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;It&#39;s not the antiquated systems that are usually the problem, but more modern systems. Antiquated systems can usually be protected by simply sticking a firewall or proxy in front of them.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;b&gt;&quot;address immediate unmet budgetary needs necessary to manage risk&quot;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;Nobody cares about cybersecurity. Instead, it&#39;s a thing people exploit in order to increase their budget. Instead of doing the best security with the budget they have, they insist they can&#39;t secure the network without more money.&lt;br /&gt;&lt;br /&gt;An alternate way to address gaps in cybersecurity is instead to do less. Reduce exposure to the web, provide fewer services, reduce functionality of desktop computers, and so on. Insisting that more money is the only way to address unmet needs is the strategy of the incompetent.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Use the NIST framework&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Probably the biggest thing in the EO is that it forces everyone to use the NIST cybersecurity framework.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The NIST Framework simply documents all the things that organizations commonly do to secure themselves, such run intrusion-detection systems or impose rules for good passwords.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;There are two problems with the NIST Framework. The first is that no organization does all the things listed. The second is that many organizations don&#39;t do the things well.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Password rules are a good example. Organizations typically had bad rules, such as frequent changes and complexity standards. So the NIST Framework documented them. But cybersecurity experts have long opposed those complex rules, so have been fighting NIST on them.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Another good example is intrusion-detection. These days, I scan the entire Internet, setting off everyone&#39;s intrusion-detection systems. I can see first hand that they are doing intrusion-detection wrong. But the NIST Framework recommends they do it, because many organizations do it, but the NIST Framework doesn&#39;t demand they do it &lt;i&gt;well&lt;/i&gt;.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;When this EO forces everyone to follow the NIST Framework, then, it&#39;s likely just going to increase the amount of money spent on cybersecurity without increasing effectiveness. That&#39;s not necessarily a bad thing: while probably ineffective or counterproductive in the short run, there might be long-term benefit aligning everyone to thinking about the problem the same way.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Note that &quot;following&quot; the NIST Framework doesn&#39;t mean &quot;doing&quot; everything. Instead, it means documented how you do everything, a reason why you aren&#39;t doing anything, or (most often) your plan to eventually do the thing.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;preference for shared IT services for email, cloud, and cybersecurity&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Different departments are hostile toward each other, with each doing things their own way. Obviously, the thinking goes, that if more departments shared resources, they could cut costs with economies of scale. Also obviously, it&#39;ll stop the many home-grown wrong solutions that individual departments come up with.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;In other words, there should be a single government GMail-type service that does e-mail both securely and reliably.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;But it won&#39;t turn out this way. Government does not have &quot;economies of scale&quot; but &quot;incompetence at scale&quot;. It means a single GMail-like service that is expensive, unreliable, and in the end, probably insecure. It means we can look forward to government breaches that instead of affecting one department affecting all departments.&lt;br /&gt;&lt;br /&gt;Yes, you can point to individual organizations that do things poorly, but what you are ignoring is the organizations that do it well. When you make them all share a solution, it&#39;s going to be the average of all these things -- meaning those who do something well are going to move to a worse solution.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I suppose this was inserted in there so that big government cybersecurity companies can now walk into agencies, point to where they are deficient on the NIST Framework, and say &quot;sign here to do this with our shared cybersecurity service&quot;.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&quot;identify authorities and capabilities that agencies could employ to support the cybersecurity efforts of critical infrastructure entities&quot;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;What this means is &quot;how can we help secure the power grid?&quot;.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;What it means in practice is that fiasco in the Vermont power grid. The DHS produced a report containing IoCs (&quot;indicators of compromise&quot;) of Russian hackers in the DNC hack. Among the things it identified was that the hackers used Yahoo! email. They pushed these IoCs out as signatures in their &quot;Einstein&quot; intrusion-detection system located at many power grid locations. The next person that logged into their Yahoo! email was then flagged as a Russian hacker, causing all sorts of hilarity to ensue, such as still uncorrected &lt;a href=&quot;https://www.washingtonpost.com/world/national-security/russian-hackers-penetrated-us-electricity-grid-through-a-utility-in-vermont/2016/12/30/8fc90cc4-ceec-11e6-b8a2-8c2a61b0436f_story.html&quot;&gt;stories&lt;/a&gt; by the Washington Post how the Russians hacked our power-grid.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The upshot is that federal government help is also going to include much government hindrance. They really are this stupid sometimes and there is no way to fix this stupid. (Seriously, the DHS still insists it did the right thing pushing out the Yahoo IoCs).&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Resilience Against Botnets and Other Automated, Distributed Threats&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The government wants to address botnets because it&#39;s just the sort of problem they love, mass outages across the entire Internet caused by a million machines.&lt;br /&gt;&lt;br /&gt;But frankly, botnets don&#39;t even make the top 10 list of problems they should be addressing. Number #1 is clearly &quot;phishing&quot; -- you know, the attack that&#39;s been getting into the DNC and Podesta e-mails, influencing the election. You know, the attack that Gizmodo &lt;a href=&quot;http://gizmodo.com/heres-how-easy-it-is-to-get-trump-officials-to-click-on-1794963635&quot;&gt;recently showed&lt;/a&gt; the Trump administration is partially vulnerable to. You know, the attack that most people blame as what probably led to that huge OPM hack. Replace the entire Executive Order with &quot;stop phishing&quot;, and you&#39;d go further fixing federal government security.&lt;br /&gt;&lt;br /&gt;But solving phishing is tough. To begin with, it requires a rethink how the government does email, and how how desktop systems should be managed. So the government avoids complex problems it can&#39;t understand to focus on the simple things it can -- botnets.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Dealing with &quot;prolonged power outage associated with a significant cyber incident&quot;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The government has had the hots for this since 2001, even though there&#39;s really been no attack on the American grid. After the Russian attacks against the Ukraine power grid, the issue is heating up.&lt;br /&gt;&lt;br /&gt;Nation-wide attacks aren&#39;t really a threat, yet, in America. We have 10,000 different companies involved with different systems throughout the country. Trying to hack them all at once is unlikely. What&#39;s funny is that it&#39;s the government&#39;s attempts to standardize everything that&#39;s likely to be our downfall, such as sticking Einstein sensors everywhere.&lt;br /&gt;&lt;br /&gt;What they should be doing is instead of trying to make the grid unhackable, they should be trying to lessen the reliance upon the grid. They should be encouraging things like Tesla PowerWalls, solar panels on roofs, backup generators, and so on. Indeed, rather than industrial system blackout, industry backup power generation should be considered as a source of grid backup. Factories and even ships were used to supplant the electric power grid in Japan after the 2011 tsunami, for example. The less we rely on the grid, the less a blackout will hurt us.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&quot;cybersecurity risks facing the defense industrial base, including its supply chain&quot;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;So &quot;supply chain&quot; cybersecurity is increasingly becoming a thing. Almost anything electronic comes with millions of lines of code, silicon chips, and other things that affect the security of the system. In this context, they may be worried about intentional subversion of systems, such as that recent article worried about Kaspersky anti-virus in government systems. However, the bigger concern is the zillions of accidental vulnerabilities waiting to be discovered. It&#39;s impractical for a vendor to secure a product, because it&#39;s built from so many components the vendor doesn&#39;t understand.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&quot;strategic options for deterring adversaries and better protecting the American people from cyber threats&quot;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;Deterrence is a funny word.&lt;br /&gt;&lt;br /&gt;Rumor has it that we forced China to backoff on hacking by impressing them with our own hacking ability, such as reaching into China and blowing stuff up. This works because the Chinese governments remains in power because things are going well in China. If there&#39;s a hiccup in economic growth, there will be mass actions against the government.&lt;br /&gt;&lt;br /&gt;But for our other cyber adversaries (Russian, Iran, North Korea), things already suck in their countries. It&#39;s hard to see how we can make things worse by hacking them. They also have a strangle hold on the media, so hacking in and publicizing their leader&#39;s weird sex fetishes and offshore accounts isn&#39;t going to work either.&lt;br /&gt;&lt;br /&gt;Also, deterrence relies upon &quot;attribution&quot;, which is hard. While news stories claim last year&#39;s expulsion of Russian diplomats was due to election hacking, that wasn&#39;t the stated reason. Instead, the claimed reason was Russia&#39;s interference with diplomats in Europe, such as breaking into diplomat&#39;s homes and pooping on their dining room table. We know it&#39;s them when they are brazen (as was the case with Chinese hacking), but other hacks are harder to attribute.&lt;br /&gt;&lt;br /&gt;Deterrence of nation states ignores the reality that much of the hacking against our government comes from non-state actors. It&#39;s not clear how much of all this Russian hacking is actually directed by the government. Deterrence polices may be better directed at individuals, such as the recent arrest of a Russian hacker while they were traveling in &lt;a href=&quot;http://www.bbc.com/news/technology-39553250&quot;&gt;Spain&lt;/a&gt;. We can&#39;t get Russian or Chinese hackers in their own countries, so we have to wait until they leave.&lt;br /&gt;&lt;br /&gt;Anyway, &quot;deterrence&quot; is one of those real-world concepts that hard to shoe-horn into a cyber (&quot;cyber-deterrence&quot;) equivalent. It encourages lots of bad thinking, such as export controls on &quot;cyber-weapons&quot; to deter foreign countries from using them.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&quot;educate and train the American cybersecurity workforce of the future&quot;&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;The problem isn&#39;t that we lack CISSPs. Such blanket certifications devalue the technical expertise of the real experts. The solution is to empower the technical experts we already have.&lt;br /&gt;&lt;br /&gt;In other words, mandate that whoever is the &quot;cyberczar&quot; is a technical expert, like how the Surgeon General must be a medical expert, or how an economic adviser must be an economic expert. For over 15 years, we&#39;ve had a parade of non-technical people named &quot;cyberczar&quot; who haven&#39;t been experts.&lt;br /&gt;&lt;br /&gt;Once you tell people technical expertise is valued, then by nature more students will become technical experts.&lt;br /&gt;&lt;br /&gt;BTW, the best technical experts are software engineers and sysadmins. The best cybersecurity for Windows is already built into Windows, whose sysadmins need to be empowered to use those solutions. Instead, they are often overridden by a clueless cybersecurity consultant who insists on making the organization buy a third-party product instead that does a poorer job. We need more technical expertise in our organizations, sure, but not necessarily more cybersecurity professionals.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Conclusion&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;This is really a government document, and government people will be able to explain it better than I. These are just how I see it as a technical-expert who is a government-outsider.&lt;br /&gt;&lt;br /&gt;My guess is the most lasting consequential thing will be making everyone following the NIST Framework, and the rest will just be a lot of aspirational stuff that&#39;ll be ignored.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/4281553033602875109/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=4281553033602875109' title='3 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/4281553033602875109'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/4281553033602875109'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/05/some-notes-on-trumps-cybersecurity.html' title='Some notes on Trump&#39;s cybersecurity Executive Order'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>3</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-6880919578304118173</id><published>2017-05-09T23:56:00.001-04:00</published><updated>2017-05-10T01:52:09.905-04:00</updated><title type='text'>John Oliver is wrong about Net Neutrality</title><content type='html'>&lt;div&gt;People keep linking to John Oliver bits. We should stop doing this. This is comedy, but people are confused into thinking Oliver is engaging in rational political debate:&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;div dir=&quot;ltr&quot; lang=&quot;en&quot;&gt;Tune in now to catch @lastweetonight with &lt;a href=&quot;https://twitter.com/iamjohnoliver&quot;&gt;@iamjohnoliver&lt;/a&gt; on why we need net neutrality and Title II. &lt;a href=&quot;https://t.co/muSGrItCp9&quot;&gt;https://t.co/muSGrItCp9&lt;/a&gt;&lt;/div&gt;â EFF (@EFF) &lt;a href=&quot;https://twitter.com/EFF/status/861465768738738176&quot;&gt;May 8, 2017&lt;/a&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;script async=&quot;&quot; charset=&quot;utf-8&quot; src=&quot;//platform.twitter.com/widgets.js&quot;&gt;&lt;/script&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Enlightened people know that reasonable people disagree, that there&#39;s two sides to any debate. John Oliver&#39;s bit erodes that belief, making one side (your side) sound smart, and the other side sound unreasonable.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The #1 thing you should know about Net Neutrality is that &lt;i&gt;reasonable people disagree&lt;/i&gt;. It doesn&#39;t mean they are right, only that they are reasonable. They aren&#39;t stupid. They aren&#39;t shills for the telcom lobby, or confused by the telcom lobby. Indeed, those opposed to Net Neutrality are the tech experts who know how packets are routed, whereas the supporters tend only to be lawyers, academics, and activists. If you think that the anti-NetNeutrality crowd is unreasonable, then you are in a dangerous filter bubble.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Most everything in John Oliver&#39;s piece is incorrect.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;For example, he says that without Net Neutrality, Comcast can prefer original shows it produces, and slow down competing original shows by Netflix. This is silly: Comcast already does that, even with NetNeutrality rules.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Comcast owns NBC, which produces a lot of original shows. During prime time (8pm to 11pm), Comcast delivers those shows at 6-mbps to its customers, while Netflix is throttled to around 3-mbps. Because of this, Comcast original shows are seen at higher quality than Netflix shows.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Comcast can do this, even with NetNeutrality rules, because it separates its cables into &quot;channels&quot;. One channel carries public Internet traffic, like Netflix. The other channels carry private Internet traffic, for broadcast TV shows and pay-per-view.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;All NetNeutrality means is that if Comcast wants to give preference to its own contents/services, it has to do so using separate channels on the wire, rather than pushing everything over the same channel. This is a detail nobody tells you because NetNeutrality proponents aren&#39;t techies. They are lawyers and academics. They maximize moral outrage, while ignoring technical details.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Another example in Oliver&#39;s show is whether search engines like Google or the (hypothetical) Bing can pay to get faster access to customers. They already do that. The average distance a packet travels on the web is less than 100-miles. That&#39;s because the biggest companies (Google, Facebook, Netflix, etc.) pay to put servers in your city close to you. Smaller companies, such as search engine DuckDuckGo.com, also pay third-party companies like Akamai or Amazon Web Services to get closer to you. The smallest companies, however, get poor performance, being a thousand miles away.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;You can test this out for yourself. Run a packet-sniffer on your home network for a week, then for each address, use mapping tools like ping and traceroute to figure out how far away things are.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The Oliver bit mentioned how Verizon banned Google Wallet. Again, technical details are important here. It had nothing to do with Net Neutrality issues blocking network packets, but only had to do with Verizon-branded phones blocking access to the encrypted enclave. You could use Google Wallet on unlocked phones you bought separately. Moreover, market forces won in the end, with Google Wallet (aka. Android Wallet) now the preferred wallet on their network. In other words, this incident shows that the &quot;free market&quot; fixes things in the long run without the heavy hand of government.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Oliver shows a piece where FCC chief Ajit Pai points out that Internet companies didn&#39;t do evil without Net Neutrality rules, and thus NetNeutrality rules were unneeded. Oliver claimed this was a &quot;disingenuous&quot; argument. No, it&#39;s not &quot;disingenuous&quot;, it entirely the point of why Net Neutrality is bad. It&#39;s chasing theoretical possibility of abuse, not the real thing. Sure, Internet companies will occasionally go down misguided paths. If it&#39;s truly bad, customers will rebel. In some cases, it&#39;s not actually a bad thing, and will end up being a benefit to customers (e.g. throttling BitTorrent during primetime would benefit most BitTorrent users). It&#39;s the pro-NetNeutrality side that&#39;s being disingenuous, knowingly trumping up things as problems that really aren&#39;t.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The point is this. The argument here is a complicated one, between reasonable sides. For humor, John Oliver has created a one-sided debate that falls apart under any serious analysis. Those like the EFF should not mistake such humor for intelligent technical debate.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/6880919578304118173/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=6880919578304118173' title='14 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/6880919578304118173'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/6880919578304118173'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/05/john-oliver-is-wrong-about-net.html' title='John Oliver is wrong about Net Neutrality'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>14</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-2149053364956687087</id><published>2017-05-07T20:29:00.004-04:00</published><updated>2017-05-07T20:46:01.554-04:00</updated><title type='text'>Hacker dumps, magnet links, and you</title><content type='html'>In an &lt;a href=&quot;https://www.emptywheel.net/2017/05/07/why-accuracy-about-wikileaks-matters/&quot;&gt;excellent post&lt;/a&gt; pointing out Wikileaks deserves none of the credit given them in the #MacronLeaks, the author erroneously stated that after Archive.org took down the files, that Wikileaks provided links to a second archive. This is not true. Instead, Wikileaks simply pointed to what&#39;s known as &quot;magnet links&quot; of the first archive. Understanding magnet links is critical to understanding all these links and dumps, so I thought I&#39;d describe them.&lt;br /&gt;&lt;br /&gt;The tl;dr version is this: anything published via BitTorrent has a matching &quot;magnet link&quot; address, and the contents can still be reached via magnet links when the original publisher goes away.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;In this case, the leaker uploaded to &quot;archive.org&quot;, a popular Internet archiving resource. This website allows you to either download files directly, which is slow, or via peer-to-peer using BitTorrent, which is fast. As you know, BitTorrent works by all the downloaders exchanging pieces with each other, rather getting them from the server. I give you a piece you don&#39;t have, in exchange for a piece I don&#39;t have.&lt;br /&gt;&lt;br /&gt;BitTorrent, though still requires a &quot;torrent&quot; (a ~30k file that lists all the pieces) and a &quot;tracker&quot; (&lt;a href=&quot;http://bt1.archive.org:6969/announce&quot;&gt;http://bt1.archive.org:6969/announce&lt;/a&gt;) that keeps a list of all the peers so they can find each other. The tracker also makes sure that every piece is available from at least one peer.&lt;br /&gt;&lt;br /&gt;When &quot;archive.org&quot; realized what was happening, they deleted the leaked files, the torrent, and the tracking.&lt;br /&gt;&lt;br /&gt;However, BitTorrent has another feature called &quot;magnet links&quot;. This is simply the &quot;hash&quot; of the &quot;torrent&quot; file contents, which looks something like &quot;&lt;a href=&quot;magnet:?xt=urn:btih:06724742e86176c0ec82e294d299fba4aa28901a&quot;&gt;06724742e86176c0ec82e294d299fba4aa28901a&lt;/a&gt;&quot;. (This isn&#39;t a hash of the entire file, but just the important parts, such as the filenames and sizes).&lt;br /&gt;&lt;br /&gt;Along with downloading files, BitTorrent software on your computer also participates in a &quot;distributed hash&quot; network. When using a torrent file to download, your BitTorrent software still tell other random BitTorrent clients about the hash. Knowledge of this hash thus spreads throughout the BitTorrent world. It&#39;s only 16 bytes in size, so the average BitTorrent client can keep track of millions of such hashes while consuming very little memory or bandwidth.&lt;br /&gt;&lt;br /&gt;If somebody decides they want to download the BitTorrent with that hash, they broadcast that request throughout this &quot;distributed hash&quot; network until they find one or more people with the full torrent. They then get the torrent description file from them, and also a list of peers in the &quot;swarm&quot; who are downloading the file.&lt;br /&gt;&lt;br /&gt;Thus, when the original torrent description file, the tracker, and original copy goes away, you can still locate the swarm of downloaders through this hash. As long as all the individual pieces exist in the swarm, you can still successfully download the original file.&lt;br /&gt;&lt;br /&gt;In this case, one of the leaked documents was a 2.3 gigabyte file called &quot;langannerch.rar&quot;. The torrent description file called &quot;langanerch_archive.torrent&quot; is 26 kilobytes in size. The hash (magnet link) is 16 bytes in size, written &quot;&lt;a href=&quot;magnet:?xt=urn:btih:06724742e86176c0ec82e294d299fba4aa28901a&quot;&gt;magnet:?xt=urn:btih:06724742e86176c0ec82e294d299fba4aa28901a&lt;/a&gt;&quot;. If you&#39;ve got BitTorrent software installed and click on the link, you&#39;ll join the swarm and start downloading the file, even though the original torrent/tracker/files have gone away.&lt;br /&gt;&lt;br /&gt;According to my BitTorrent client, there are currently 108 people in the swarm downloading this file world-wide. I&#39;m currently connected to 11 of them. Most of them appear to be located in France.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-65iRyOMEm3E/WQ-zZiNW-YI/AAAAAAAAEk4/DQWgHzQrgG0isP0Ib5viaQE51nPiEeXKwCLcB/s1600/Screenshot%2B2017-05-07%2B19.52.11.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;180&quot; src=&quot;https://4.bp.blogspot.com/-65iRyOMEm3E/WQ-zZiNW-YI/AAAAAAAAEk4/DQWgHzQrgG0isP0Ib5viaQE51nPiEeXKwCLcB/s320/Screenshot%2B2017-05-07%2B19.52.11.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;Looking at the General tab, I see that &quot;availability&quot; is 2.95. That means there exist 2.95 complete copies of the download. In other words, if there are 20 pieces, it means that for one of the pieces in the swarm, only 2 people have it. This is dangerously small -- if those two people leave the network, then a complete copy of the dump will no longer exist in the swarm, and it&#39;ll be impossible to download it all.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-vIOPojcSt68/WQ-0fA_nOFI/AAAAAAAAElE/V6XRFfxSAi4JXaAOKbDmFoEtRZAWy0eQQCLcB/s1600/Screenshot%2B2017-05-07%2B19.55.04.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;184&quot; src=&quot;https://1.bp.blogspot.com/-vIOPojcSt68/WQ-0fA_nOFI/AAAAAAAAElE/V6XRFfxSAi4JXaAOKbDmFoEtRZAWy0eQQCLcB/s320/Screenshot%2B2017-05-07%2B19.55.04.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;Such dumps can remain popular enough for years after the original tracker/torrent has disappeared, but at some point, a critical piece disappears, and it becomes impossible for anybody to download more than 99.95%, with everyone in the swarm waiting for that last piece. If you read this blogpost 6 months from now, you are likely to see 10 people in the swarm, all stuck at 99.95% complete.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Conclusion&lt;/b&gt;&lt;br /&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;The upshot of this is that it&#39;s hard censoring BitTorrent, because all torrents also exist as magnet links. It took only a couple hours for Archive.org to take down the tracker/torrents/files, but after complete downloads were out in the swarm, all anybody needed was the hash of the original torrent to create a magnet link to the data. Those magnet links had already been published by many people. The Wikileaks tweet that linked to them was fairly late, all things considered, other people had already published them.&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/2149053364956687087/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=2149053364956687087' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/2149053364956687087'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/2149053364956687087'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/05/hacker-dumps-magnet-links-and-you.html' title='Hacker dumps, magnet links, and you'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-65iRyOMEm3E/WQ-zZiNW-YI/AAAAAAAAEk4/DQWgHzQrgG0isP0Ib5viaQE51nPiEeXKwCLcB/s72-c/Screenshot%2B2017-05-07%2B19.52.11.png" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-330778476520462977</id><published>2017-05-05T22:34:00.000-04:00</published><updated>2017-06-20T22:04:50.017-04:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="bitcoin"/><category scheme="http://www.blogger.com/atom/ns#" term="leak"/><title type='text'>Some notes on #MacronLeak</title><content type='html'>&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-OarzYdhHdAw/WQ086d-2jZI/AAAAAAAAEkQ/0-5aHJX_Lc8oUQDfKcdiTgYej6wFqqliQCLcB/s1600/macron.jpg&quot; imageanchor=&quot;1&quot; style=&quot;clear: right; float: right; margin-bottom: 1em; margin-left: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;200&quot; src=&quot;https://2.bp.blogspot.com/-OarzYdhHdAw/WQ086d-2jZI/AAAAAAAAEkQ/0-5aHJX_Lc8oUQDfKcdiTgYej6wFqqliQCLcB/s200/macron.jpg&quot; width=&quot;200&quot; /&gt;&lt;/a&gt;&lt;/div&gt;Tonight (Friday May 5 2017) hackers dumped emails (and docs) related to French presidential candidate Emmanuel Macron. He&#39;s the anti-Putin candidate running against the pro-Putin Marin Le Pen. I thought I&#39;d write up some notes.&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Are they Macron&#39;s emails?&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;No. They are e-mails from members of his staff/supporters, namely &lt;a href=&quot;https://fr.wikipedia.org/wiki/Alain_Tourret&quot;&gt;Alain Tourret&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/pierr_person&quot;&gt;Pierre Person&lt;/a&gt;, Cedric O??, Anne-Christine Lang, and Quentin Lafay.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;There are some documents labeled &quot;Macron&quot; which may have been taken from his computer, cloud drive -- his own, or an assistant.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Who done it?&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Obviously, everyone assumes that Russian hackers did it, but there&#39;s nothing (so far) that points to anybody in particular.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;It appears to be the most basic of phishing attacks, which means anyone could&#39;ve done it, including your neighbor&#39;s pimply faced teenager.&lt;br /&gt;&lt;br /&gt;Update: Several people [&lt;a href=&quot;https://twitter.com/natesantos/status/860698634903584768&quot;&gt;*&lt;/a&gt;] have pointed out &lt;a href=&quot;http://www.reuters.com/article/us-france-election-macron-cyber-idUSKBN17Q200&quot;&gt;Trend Micro reporting&lt;/a&gt; that Russian/APT28 hackers were targeting Macron back on April 24. Coincidentally, this is also the latest that emails appear in the dump.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;What&#39;s the hacker&#39;s evil plan?&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Everyone is proposing theories about the hacker&#39;s plan, but the most likely answer is they don&#39;t have one. Hacking is opportunistic. They likely targeted everyone in the campaign, and these were the only victims they could hack. It&#39;s probably not the outcome they were hoping for.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;But since they&#39;ve gone through all the work, it&#39;d be a shame to waste it. Thus, they are likely releasing the dump not because they believe it will do any good, but because it&#39;ll do them no harm. It&#39;s a shame to waste all the work they put into it.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;If there&#39;s any plan, it&#39;s probably a long range one, serving notice that any political candidate that goes against Putin will have to deal with Russian hackers dumping email.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Why now? Why not leak bits over time like with Clinton?&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;France has a campaign blackout starting tonight at midnight until the election on Sunday. Thus, it&#39;s the perfect time to leak the files. Anything salacious, or even rumors of something bad, will spread viraly through Facebook and Twitter, without the candidate or the media having a good chance to rebut the allegations.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The last emails in the logs appear to be from April 24, the day after the first round vote (Sunday&#39;s vote is the second, runoff, round). Thus, the hackers could&#39;ve leaked this dump any time in the last couple weeks. They chose now to do it.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Are the emails verified?&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Yes and no.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Yes, we have DKIM signatures between people&#39;s accounts, so we know for certain that hackers successfully breached these accounts. DKIM is an anti-spam method that cryptographically signs emails by the sending domain (e.g.&amp;nbsp;@gmail.com), and thus, can also verify the email hasn&#39;t been altered or forged.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;But no, when a salacious email or document is found in the dump, it&#39;ll likely not have such a signature (most emails don&#39;t), and thus, we probably won&#39;t be able to verify the scandal. In other words, the hackers could have altered or forged something that becomes newsworthy.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;What are the most salacious emails/files?&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;I don&#39;t know. Before this dump, hackers on 4chan were already making allegations that Macron had secret offshore accounts (&lt;a href=&quot;http://observers.france24.com/en/20170505-france-elections-macron-lepen-offshore-bahamas-debunked?ref=tw&quot;&gt;debunked&lt;/a&gt;). Presumably we need to log in to 4chan tomorrow for them to point out salacious emails/files from this dump.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;div style=&quot;text-align: right;&quot;&gt;&lt;/div&gt;Another email going around seems to indicate that Alain Tourret, a member of the French legislature, had his assistant &lt;a href=&quot;https://www.blogger.com/&quot;&gt;@FrancoisMachado&lt;/a&gt;&amp;nbsp;buy drugs online with Bitcoin and had them sent to his office in the legislature building. The drugs in question, &lt;a href=&quot;https://en.wikipedia.org/wiki/3-Methylmethcathinone&quot;&gt;3-MMC&lt;/a&gt;, is a variant of meth that might be legal in France. The emails point to a &lt;a href=&quot;https://www.internationalparceltracking.com/Main.aspx#/track/RN798771331NL/FR/75355&quot;&gt;tracking number&lt;/a&gt; which looks legitimate, at least, that a package was indeed shipped to that area of Paris. There is a &lt;a href=&quot;https://blockchain.info/tx/582bf6c59370ca8800f8e7739e3c7cd25559d0f3159789da5f52fcdb719a4771&quot;&gt;bitcoin transaction&lt;/a&gt; that matches the address, time, and amount specified in the emails. Some claim these drug emails are fake, but so far, I haven&#39;t seen any emails explaining why they should be fake. On the other hand, there&#39;s nothing proving they are true (no DKIM sig), either.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-xirTbCwCnr8/WQ031fnDCOI/AAAAAAAAEj0/rFaa3DXnJe4lRki6gGhpF8K5Ni6faROQACLcB/s1600/macron-uber-dkim.jpg&quot; imageanchor=&quot;1&quot; style=&quot;clear: right; float: right; margin-bottom: 1em; margin-left: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;300&quot; src=&quot;https://3.bp.blogspot.com/-xirTbCwCnr8/WQ031fnDCOI/AAAAAAAAEj0/rFaa3DXnJe4lRki6gGhpF8K5Ni6faROQACLcB/s320/macron-uber-dkim.jpg&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;Some salacious emails might be obvious, but some may take people with more expertise to find. For example, one email is a receipt from Uber (with proper DKIM validation) that shows the route that &quot;Quenten&quot; took on the night of the first round election. Somebody clued into the French political scene might be able to figure out he&#39;s visiting his mistress, or something. (This is hypothetical -- in reality, he&#39;s probably going from one campaign rally to the next).&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;What&#39;s the Macron camp&#39;s response?&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;They have just the sort of &lt;a href=&quot;https://twitter.com/NPRKelly/status/860621148794605569&quot;&gt;response&lt;/a&gt;&amp;nbsp;you&#39;d expect.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;They claim some of the documents/email are fake, without getting into specifics. They claim that information is needed to be understand in context. They claim that this was a &quot;massive coordinated attack&quot;, even though it&#39;s something that any pimply faced teenager can do. They claim it&#39;s an attempt to destabilize democracy. They call upon journalists to be &quot;responsible&quot;.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/330778476520462977/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=330778476520462977' title='4 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/330778476520462977'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/330778476520462977'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/05/some-notes-on-macronleak.html' title='Some notes on #MacronLeak'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-OarzYdhHdAw/WQ086d-2jZI/AAAAAAAAEkQ/0-5aHJX_Lc8oUQDfKcdiTgYej6wFqqliQCLcB/s72-c/macron.jpg" height="72" width="72"/><thr:total>4</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-3261778957162579450</id><published>2017-05-03T14:59:00.000-04:00</published><updated>2017-05-03T15:00:26.148-04:00</updated><title type='text'>FBI&#39;s Comey dangerous definition of &quot;valid&quot; journalism</title><content type='html'>The First Amendment, the &quot;freedom of speech&quot; one, does not mention journalists. When it says &quot;freedom of the press&quot; it means the physical printing press. Yes, that does include newspapers, but it also includes anybody else publishing things, such as the famous agitprop pamphlets published by James Otis, John Dickinson, and Thomas Paine. There was no journalistic value to Thomas Paine&#39;s &lt;i&gt;Common Sense&lt;/i&gt;. The pamphlet argued for abolishing the monarchy and for American independence.&lt;br /&gt;&lt;br /&gt;Today in &lt;a href=&quot;https://www.washingtonpost.com/news/post-politics/wp/2017/05/03/read-the-full-testimony-of-fbi-director-james-comey-in-which-he-discusses-clinton-email-investigation/&quot;&gt;testimony&lt;/a&gt; before congress, FBI directory James Comey came out in support of journalism, pointing out that they would not prosecute journalists doing their jobs. But he then modified his statement, describing &quot;valid&quot; journalists as those who in possession of leaks would first check with the government, to avoid publishing anything that would damage national security. It&#39;s a power the government has abused in the past to delay or censor leaks. It&#39;s specifically why Edward Snowden contacted Glenn Greenwald and Laura Poitras -- he wanted journalists who would not kowtow the government on publishing the leaks.&lt;br /&gt;&lt;br /&gt;Comey&#39;s testimony today was in regards to prosecuting Assange and Wikileaks. Under the FBI&#39;s official &quot;journalist&quot; classification scheme, Wikileaks are not real journalists, but instead publish &quot;intelligence porn&quot; and are hostile to America&#39;s interests.&lt;br /&gt;&lt;br /&gt;To be fair, there may be good reasons to prosecute Assange. Publishing leaks is one thing, but the suspicion with Wikileaks is that they do more, that they actively help getting the leaks in the first place. The original leaks that started Wikileaks may have come from hacks by Assange himself. Assange may have helped Manning grab the diplomatic cables. Wikileaks may have been involved in hacking the DNC and Podesta emails, more than simply receiving and publishing the information.&lt;br /&gt;&lt;br /&gt;If that&#39;s the case, then the US government would have good reason to prosecute Wikileaks.&lt;br /&gt;&lt;br /&gt;But that&#39;s not what Comey said today. Instead, Comey referred only to Wikileaks constitutionally protected publishing activities, and how since they didn&#39;t fit his definition of &quot;journalism&quot;, they were open to prosecution. This is fundamentally wrong, and a violation of the both the spirit and the letter of the First Amendment. The FBI should not have a definition of &quot;journalism&quot; it thinks is valid. Yes, Assange is an anti-American douchebag. Being an apologist for Putin&#39;s Russia disproves his claim of being a neutral journalist targeting the corrupt and powerful. But these activities are specifically protected by the Constitution.&lt;br /&gt;&lt;br /&gt;If this were 1776, Comey would of course be going after Thomas Paine, for publishing &quot;revolution porn&quot;, and not being a real journalist.&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/3261778957162579450/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=3261778957162579450' title='1 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/3261778957162579450'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/3261778957162579450'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/05/fbis-comey-dangerous-definition-of.html' title='FBI&#39;s Comey dangerous definition of &quot;valid&quot; journalism'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>1</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-4962542708817739739</id><published>2017-04-26T00:35:00.001-04:00</published><updated>2017-04-26T00:40:17.833-04:00</updated><title type='text'>&quot;Fast and Furious 8: Fate of the Furious&quot;</title><content type='html'>So &quot;Fast and Furious 8&quot; opened this weekend to world-wide box office totals of $500,000,000. I thought I&#39;d write up some notes on the &quot;hacking&quot; in it. The tl;dr version is this: yes, while the hacking is a bit far fetched, it&#39;s actually more realistic than the car chase scenes, such as winning a race with the engine on fire while in reverse.&lt;br /&gt;&lt;br /&gt;[SPOILERS]&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;&lt;b&gt;&lt;br class=&quot;Apple-interchange-newline&quot; /&gt;Car hacking&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-Wa06aLG4_nI/WQAkp_TM04I/AAAAAAAAEi0/ZHBuqcLLbsc3ycmwSkmon29f-dvp0tRNwCLcB/s1600/fate-of-furious-rain.JPG&quot; imageanchor=&quot;1&quot; style=&quot;clear: right; float: right; margin-bottom: 1em; margin-left: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;184&quot; src=&quot;https://4.bp.blogspot.com/-Wa06aLG4_nI/WQAkp_TM04I/AAAAAAAAEi0/ZHBuqcLLbsc3ycmwSkmon29f-dvp0tRNwCLcB/s320/fate-of-furious-rain.JPG&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;The most innovative cyber-thing in the movie is the car hacking. In one scene, the hacker takes control of the cars in a parking structure, and makes them rain on to the street. In another scene, the hacker takes control away from drivers, with some jumping out of their moving cars in fear.&lt;br /&gt;&lt;br /&gt;How real is this?&lt;br /&gt;&lt;br /&gt;Well, today, few cars have a mechanical link between the computer and the steering wheel. No amount of hacking will fix the fact that this component is missing.&lt;br /&gt;&lt;br /&gt;With that said, most new cars have features that make hacking possible. I&#39;m not sure, but I&#39;d guess more than half of new cars have internet connections (via the mobile phone network), cameras (for backing up, but also looking forward for lane departure warnings), braking (for emergencies), and acceleration.&lt;br /&gt;&lt;br /&gt;In other words, we are getting really close.&lt;br /&gt;&lt;br /&gt;As this Wikipedia article describes, there are&amp;nbsp;&lt;a href=&quot;https://en.wikipedia.org/wiki/Autonomous_car&quot;&gt;levels for autonomous cars&lt;/a&gt;. At level 2 or 3, cars get automated steering, either for parking or for staying in the lane. Level 3 autonomy is especially useful, as it means you can sit back and relax while your car is sitting in a traffic jam. Higher levels of autonomy are still decades away, but most new cars, even the cheapest low end cars, will be level 3 within 5 years. That they make traffic jams bearable makes this an incredibly attractive feature.&lt;br /&gt;&lt;br /&gt;Thus, while this scene is laughable today, it&#39;ll be taken seriously in 10 years. People will look back on how smart this movie was at predicting the future.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Car hacking, part 2&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;Quite apart from the abilities of cars, let&#39;s talk about the abilities of hackers.&lt;br /&gt;&lt;br /&gt;The recent &lt;i&gt;ShadowBrokers&lt;/i&gt;&amp;nbsp;dump of NSA hacking tools show that hackers simply don&#39;t have a lot of range. Hacking one car is easy -- hacking all different models, makes, and years of cars is far beyond the ability of any hacking group, even the NSA.&lt;br /&gt;&lt;br /&gt;I mean, a single hack may span more than one car model, and even across more than one manufacturer, because they buy such components from third-party manufacturers. Most cars that have cameras buy them from MobileEye, which was recently acquired by Intel. &amp;nbsp;As I blogged before, both my &lt;a href=&quot;http://blog.erratasec.com/2015/10/omg-machines-are-breeding-mankind-is.html&quot;&gt;Parrot drone and Tesla car have the same WiFi stack&lt;/a&gt;, and both could be potential hacked with the same vulnerability. So hacking many cars at once isn&#39;t totally out of the question.&lt;br /&gt;&lt;br /&gt;It&#39;s just that hacking &lt;i&gt;all&lt;/i&gt;&amp;nbsp;the different cars in a garage is completely implausible.&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;b&gt;God&#39;s Eye&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;The plot of the last two movies as been about the &quot;God&#39;s Eye&quot;, a device that hacks into every camera and satellite to view everything going on in the world.&lt;br /&gt;&lt;br /&gt;First of all, all hacking is software. The idea of stealing a hardware device in order enable hacking is therefore (almost) always fiction. There&#39;s one corner case where a quantum chip factoring RSA would enable some previously impossible hacking, but it still can&#39;t reach out and hack a camera behind a firewall.&lt;br /&gt;&lt;br /&gt;Hacking security cameras around the world is indeed possible, though. The Mirai botnet of last year demonstrated this. It wormed its way form camera to camera, hacking hundreds of thousands of cameras that weren&#39;t protected by firewalls. It used these devices as simply computers, to flood major websites, taking them offline. But it could&#39;ve also used the camera features, to upload pictures and video&#39;s to the hacker controlling these cameras.&lt;br /&gt;&lt;br /&gt;However, most security cameras are behind firewalls, and can&#39;t be reached. Building a &quot;Gody&#39;s Eye&quot; view of the world, to catch a target every time they passed in front of a camera, would therefore be unrealistic.&lt;br /&gt;&lt;br /&gt;Moreover, they don&#39;t have either the processing power nor the bandwidth to work like that. It takes heavy number crunching in order to detect faces, or even simple things like license plates, within videos. The cameras don&#39;t have that. Instead, cameras could upload the videos/pictures to supercomputers controlled by the hypothetical hacker, but the bandwidth doesn&#39;t exist. The Internet is being rapidly upgraded, but still, Internet links are built for low-bandwidth webpages, not high-bandwidth streaming from millions of sources.&lt;br /&gt;&lt;br /&gt;This rapidly changing. Cameras are rapidly being upgraded with &quot;neural network&quot; chips that will have some rudimentary capabilities to recognize things like license plates, or the outline of a face that could then be uploaded for more powerful number crunching elsewhere. Your car&#39;s cameras already have this, for backup warnings and lane departure warnings, soon all security cameras will have something like this. Likewise, the Internet is steadily being upgraded to replace TV broadcast, where everyone can stream from Netflix all the time, so high-bandwidth streams from cameras will become more of the norm.&lt;br /&gt;&lt;br /&gt;Even getting behind a firewall to the camera will change in the future, as owners will simply store surveillance video in the cloud instead of locally. Thus, the hypothetical hacker would only need to hack a small number of surveillance camera companies instead of a billion security cameras.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Evil villain lair: ghost airplane&lt;/b&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-C8MjJZ2QR1g/WQAkYa63jAI/AAAAAAAAEiw/enwsDs4i1C4FGMTik53gFRDf0eLZAXlOgCLcB/s1600/cipher2.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: right; float: right; margin-bottom: 1em; margin-left: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;https://2.bp.blogspot.com/-C8MjJZ2QR1g/WQAkYa63jAI/AAAAAAAAEiw/enwsDs4i1C4FGMTik53gFRDf0eLZAXlOgCLcB/s1600/cipher2.jpeg&quot; /&gt;&lt;/a&gt;&lt;/div&gt;The evil villain in the movie (named &quot;Cipher&quot;, or course) has her secret headquarters on an airplane that flies along satellite &quot;blind spots&quot; so that it can&#39;t be tracked.&lt;br /&gt;&lt;br /&gt;This is nonsense. Low resolution satellites, like NOAA satellites tracking the weather, cover the entire planet (well, as far as such airplanes are concerned, unless you are landing in Antartica). While such satellites might not see the plane, they can track the contrail (I mean, chemtrail). Conversely high resolution satellites miss most of the planet. If they haven&#39;t been tasked to aim at something, they won&#39;t see it. And they can&#39;t be aimed at you unless they already know where you are. Sure, there are moving blind spots where even tasked satellites can&#39;t find you, but it&#39;s unlikely they&#39;d be tracking you anyway.&lt;br /&gt;&lt;br /&gt;Since the supervillain was a hacker, the airplane was full of computers. This is nonsense. Any compute power I need as a hacker is better left on the Earth&#39;s surface, either by hacking cloud providers (like Amazon AWS, Microsoft Azure, or Rackspace), or by hiding data centers in Siberia and Tibet. All I need is satellite communication to the Internet from my laptop to be a supervillain. Indeed, I&#39;m unlikely to get the bandwidth I need to process things on the plane. Instead, I&#39;ll need to process everything on the Earth anyway, and send the low-bandwidth results to the plane.&lt;br /&gt;&lt;br /&gt;In any case, if I were writing fiction, I&#39;d have nuclear-powered airplanes that stayed aloft for months, operating out of remote bases in the Himalayas or Antartica.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;EMP pulses&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;Small EMP pulse weapons &lt;a href=&quot;https://en.wikipedia.org/wiki/Explosively_pumped_flux_compression_generator&quot;&gt;exist&lt;/a&gt;, that&#39;s not wholly fictional.&lt;br /&gt;&lt;br /&gt;However, an EMP with the features, power, and effects in the movie is, of course, fictional. EMPs, even non-nuclear ones, are abused in films/TV so much that the &lt;a href=&quot;https://en.wikipedia.org/wiki/Nuclear_electromagnetic_pulse&quot;&gt;Wikipedia pages on them&lt;/a&gt; spend a lot of time debunking them.&lt;br /&gt;&lt;br /&gt;It would be cool if, one day, they used EMP realistically. In this movie, real missile-tipped with &lt;a href=&quot;https://en.wikipedia.org/wiki/Explosively_pumped_flux_compression_generator&quot;&gt;non-nuclear explosively-pumped flux compression generators&lt;/a&gt; could&#39;ve been used for the same effect. Of course, simple explosives that blow up electronics also work.&lt;br /&gt;&lt;br /&gt;Since hacking is the goto deus ex machina these days, they could&#39;ve just had the hackers disable the power instead of using the EMP to do it.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Conclusion&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;In the movie, the hero uses his extraordinary driving skills to blow up a submarine. Given this level of willing disbelief, the exaggerated hacking is actually the least implausible bits of the movie. Indeed, as technology changes, making some of this more possible, the movie might be seen as predicting the future.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/4962542708817739739/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=4962542708817739739' title='0 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/4962542708817739739'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/4962542708817739739'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/04/fast-and-furious-8-fate-of-furious.html' title='&quot;Fast and Furious 8: Fate of the Furious&quot;'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-Wa06aLG4_nI/WQAkp_TM04I/AAAAAAAAEi0/ZHBuqcLLbsc3ycmwSkmon29f-dvp0tRNwCLcB/s72-c/fate-of-furious-rain.JPG" height="72" width="72"/><thr:total>0</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-6245217542767365147</id><published>2017-04-17T22:14:00.002-04:00</published><updated>2017-04-18T14:49:30.194-04:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="bitcoin"/><category scheme="http://www.blogger.com/atom/ns#" term="botnet"/><category scheme="http://www.blogger.com/atom/ns#" term="Mirai"/><title type='text'>Mirai, Bitcoin, and numeracy</title><content type='html'>Newsweek (the magazine famous for outing the real Satoshi Nakamoto) has a story about how a variant of the Mirai botnet is mining bitcoin. They fail to run the numbers.&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The story repeats a claim by Mcafee that 2.5 million devices were infected with Mirai at some point in 2016. If they were all mining bitcoin, how much money would the hackers be earning?&lt;/div&gt;&lt;div&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I bought security cameras and infected them with Mirai. A typical example of the CPU running on an IoT device is an ARM926EJ-S processor.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://4.bp.blogspot.com/-YpfbLNZpnv4/WPVyKAwNUiI/AAAAAAAAEgw/_kz4kzSA5NMLzcV8z2alG9BVt60X-ZqgwCLcB/s1600/arm926ej.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;229&quot; src=&quot;https://4.bp.blogspot.com/-YpfbLNZpnv4/WPVyKAwNUiI/AAAAAAAAEgw/_kz4kzSA5NMLzcV8z2alG9BVt60X-ZqgwCLcB/s320/arm926ej.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;As &lt;a href=&quot;https://en.bitcoin.it/wiki/Non-specialized_hardware_comparison&quot;&gt;this website&lt;/a&gt; reports, such a processor running at 1.2 GHz can mine at a rate of 0.187-megahashes/second. That&#39;s a bit fast for an IoT device, most are slower, some are faster, we&#39;ll just use this as the average.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-JJmfyDIP6ls/WPVyvhhYtdI/AAAAAAAAEg4/YfRaA0nsv4M4pf4qZod0_VOlkE7uYFjMQCLcB/s1600/hardware-comparison.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;148&quot; src=&quot;https://1.bp.blogspot.com/-JJmfyDIP6ls/WPVyvhhYtdI/AAAAAAAAEg4/YfRaA0nsv4M4pf4qZod0_VOlkE7uYFjMQCLcB/s320/hardware-comparison.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;According to this website, the &lt;a href=&quot;https://blockchain.info/charts/hash-rate&quot;&gt;current hash-rate&lt;/a&gt; of all minters is around 4-million terahashes/second.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-zjzGnf86H0s/WPVzXGvDdxI/AAAAAAAAEg8/3JTX8apkDIkMz1KCqddMmckzPuWlWuvUgCLcB/s1600/hash-rate.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;198&quot; src=&quot;https://3.bp.blogspot.com/-zjzGnf86H0s/WPVzXGvDdxI/AAAAAAAAEg8/3JTX8apkDIkMz1KCqddMmckzPuWlWuvUgCLcB/s320/hash-rate.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Bitcoin blocks are mined every 10 minutes, with the current (April 2017) reward set at 12.5 bitcoins per block, giving roughly 1800 bitcoins/day in reward.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The current price of bitcoin is $1191.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://1.bp.blogspot.com/-Z6MeApyHHPQ/WPV0Ag-hG4I/AAAAAAAAEhE/RH-cnkD0tycnPDkc232ovPEB98bPrpjwgCLcB/s1600/current-bitcoin-price.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;197&quot; src=&quot;https://1.bp.blogspot.com/-Z6MeApyHHPQ/WPV0Ag-hG4I/AAAAAAAAEhE/RH-cnkD0tycnPDkc232ovPEB98bPrpjwgCLcB/s320/current-bitcoin-price.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Okay, let&#39;s plug all these numbers in:&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&amp;nbsp;total Mirai hash-rate = 2.5 million bots times 0.185 megahash/sec = 0.468 terahashes/second&lt;/li&gt;&lt;li&gt;&amp;nbsp;daily Bitcoin earnings = $1191 times 1800 = $2.1 million/day&lt;/li&gt;&lt;li&gt;&amp;nbsp;daily Mirai earnings = (0.468 divided by 4-million) times $2.1 million = $0.25&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;In other words, if the entire Mirai botnet of 2.5 million IoT devices was furiously mining bitcoin, it&#39;s total earnings would be $0.25 (25 cents) per day.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Conclusion&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;If 2.5 million IoT devices mine Bitcoin, they&#39;d earn in total 25 pennies per day. It&#39;s inconceivable that anybody would add bitcoin mining to the Mirai botnet other than as a joke.&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;br /&gt;&lt;hr /&gt;&lt;br /&gt;&lt;b&gt;Bonus:&lt;/b&gt;&amp;nbsp;A single 5 kilogram &lt;a href=&quot;https://shop.bitmain.com/productDetail.htm?pid=000201704051020017113a0j8tX8064A&quot;&gt;device&lt;/a&gt;&amp;nbsp;you hold in your hand can mind at 12.5 terahashes/second, or 25 times the hypothetical botnet, for $1200.&lt;/div&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/6245217542767365147/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=6245217542767365147' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/6245217542767365147'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/6245217542767365147'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/04/mirai-bitcoin-and-numeracy.html' title='Mirai, Bitcoin, and numeracy'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://4.bp.blogspot.com/-YpfbLNZpnv4/WPVyKAwNUiI/AAAAAAAAEgw/_kz4kzSA5NMLzcV8z2alG9BVt60X-ZqgwCLcB/s72-c/arm926ej.png" height="72" width="72"/><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-690330899518376338</id><published>2017-03-19T02:05:00.000-04:00</published><updated>2017-03-19T02:45:37.038-04:00</updated><category scheme="http://www.blogger.com/atom/ns#" term="Alfa Bank"/><category scheme="http://www.blogger.com/atom/ns#" term="Russia"/><category scheme="http://www.blogger.com/atom/ns#" term="Trump"/><category scheme="http://www.blogger.com/atom/ns#" term="Trump Orgainzation"/><title type='text'>Pranksters gonna prank</title><content type='html'>So Alfa Bank (the bank whose DNS traffic link it to trump-email.com) is back in the news with this &lt;a href=&quot;http://alfabank.com/media/news/2017/03/17/&quot;&gt;press release&lt;/a&gt; about how in the last month, hackers have spoofed traffic trying to make it look like there&#39;s a tie with Trump. In other words, Alfa claims these packets are trying to frame them for a tie with Trump now, and thus (by extension) it must&#39;ve been a frame last October.&lt;br /&gt;&lt;br /&gt;There is no conspiracy here: it&#39;s just merry pranksters doing pranks (as this &lt;a href=&quot;http://www.cnn.com/2017/03/17/politics/alfa-bank-trump-dns-hack/&quot;&gt;CNN article&lt;/a&gt; quotes me).&lt;br /&gt;&lt;br /&gt;Indeed, among the people pranking has been me (not the pranks mentioned by Alfa, but different pranks). I ran a scan sending packets from IP address to almost everyone one the Internet, and set the reverse lookup to &quot;mail1.trumpemail.com&quot;.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-qJ0h5GtmV6U/WM4ZxViQ8OI/AAAAAAAAEfw/eR6EqmLhEEM7W2-s4Pd7dYlF0DPH_kjeACLcB/s1600/trump-email.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;85&quot; src=&quot;https://2.bp.blogspot.com/-qJ0h5GtmV6U/WM4ZxViQ8OI/AAAAAAAAEfw/eR6EqmLhEEM7W2-s4Pd7dYlF0DPH_kjeACLcB/s320/trump-email.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Sadly, my ISP doesn&#39;t allow me to put hyphens in the name, so it&#39;s not &quot;trump-email.com&quot; as it should be in order to prank well.&lt;br /&gt;&lt;br /&gt;Geeks gonna geek and pranksters gonna prank. I can imagine all sorts of other fun pranks somebody might do in order to stir the pot. Since the original news reports of the AlfaBank/trump-email.com connection last year, we have to assume any further data is tainted by goofballs like me goofing off.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;By the way, in my particular case, there&#39;s a good lesson to be had here about the arbitrariness of IP addresses and names. There is no server located at my IP address of 209.216.230.75. No such machine exists. Instead, I run my scans from a nearby machine on the same network, and &quot;spoof&quot; that address with &lt;i&gt;masscan&lt;/i&gt;:&lt;br /&gt;&lt;br /&gt;&lt;i&gt;$ masscan 0.0.0.0/0 -p80 --banners --spoof-ip 209.216.230.75&lt;/i&gt;&lt;br /&gt;&lt;br /&gt;This sends a web request to every machine on the Internet from that IP address, despite no machine anywhere being configured with that IP address.&lt;br /&gt;&lt;br /&gt;I point this out because people are confused by the meaning of an &quot;IP address&quot;, or a &quot;server&quot;, &quot;domain&quot;, and &quot;domain name&quot;. I can imagine the FBI looking into this and getting a FISA warrant for the server located at my IP address, and my ISP coming back and telling them that no such server exists, nor has a server existed at that IP address for many years.&lt;br /&gt;&lt;br /&gt;In the case of last years story, there&#39;s little reason to believe IP spoofing was happening, but the conspiracy theory still breaks down for the same reason: the association between these concepts is not what you think it is. Listrak, the owner of the server at the center of the conspiracy, still reverse resolves the IP address 66.216.133.29 as &quot;mail1.trump-email.com&quot;, either because they are lazy, or because they enjoy the lulz.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://2.bp.blogspot.com/-ZhtyEv3YjXs/WM4hkqFyKlI/AAAAAAAAEgA/MNLFgyxnnvINz8RycH9NSphf--5R5nHQwCLcB/s1600/trump-email-resolve.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;85&quot; src=&quot;https://2.bp.blogspot.com/-ZhtyEv3YjXs/WM4hkqFyKlI/AAAAAAAAEgA/MNLFgyxnnvINz8RycH9NSphf--5R5nHQwCLcB/s320/trump-email-resolve.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;It&#39;s absurd thinking anything sent by the server is related to the Trump Orgainzation today, and it&#39;s equally plausible that nothing the server sent was related to Trump last year as well, especially since (as CNN &lt;a href=&quot;http://www.cnn.com/2017/03/09/politics/fbi-investigation-continues-into-odd-computer-link-between-russian-bank-and-trump-organization/&quot;&gt;reports&lt;/a&gt;), Trump had severed their ties with Cendyn (the marketing company that uses Listrak servers for email).&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;hr /&gt;&lt;br /&gt;Also, as mentioned in &lt;a href=&quot;http://blog.erratasec.com/2016/11/in-which-i-have-to-debunk-second-time.html&quot;&gt;a previous blog post&lt;/a&gt;, I set my home network&#39;s domain to be &quot;moscow.alfaintra.net&quot;, which means that some of my DNS lookups at home are actually being sent to Alfa Bank. I should probably turn this off before the FBI comes knocking at my door.&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://3.bp.blogspot.com/-X3pWRgkIMh0/WBrtDeBTvZI/AAAAAAAAEM8/rkqeEnRzYIIdtS50z__CjKEIu2RIZkOOgCPcB/s1600/suffix-configuration.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://3.bp.blogspot.com/-X3pWRgkIMh0/WBrtDeBTvZI/AAAAAAAAEM8/rkqeEnRzYIIdtS50z__CjKEIu2RIZkOOgCPcB/s320/suffix-configuration.png&quot; width=&quot;262&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/690330899518376338/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=690330899518376338' title='2 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/690330899518376338'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/690330899518376338'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/03/pranksters-gonna-prank.html' title='Pranksters gonna prank'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://2.bp.blogspot.com/-qJ0h5GtmV6U/WM4ZxViQ8OI/AAAAAAAAEfw/eR6EqmLhEEM7W2-s4Pd7dYlF0DPH_kjeACLcB/s72-c/trump-email.png" height="72" width="72"/><thr:total>2</thr:total></entry><entry><id>tag:blogger.com,1999:blog-37798047.post-3784476047393286481</id><published>2017-03-15T13:33:00.000-04:00</published><updated>2017-03-19T02:41:19.469-04:00</updated><title type='text'>Assert() in the hands of bad coders</title><content type='html'>Using&amp;nbsp;&lt;i&gt;assert()&lt;/i&gt;&amp;nbsp;creates better code, as programmers double-check assumptions. But only if used correctly. Unfortunately, bad programmers tend to use them badly, making code worse than if no asserts were used at all. They are a nuanced concept that most programmers don&#39;t really understand.&lt;br /&gt;&lt;br /&gt;We saw this recently with the crash of &quot;Bitcoin Unlimited&quot;, a version of Bitcoin that allows more transactions. They used an &lt;i&gt;assert()&lt;/i&gt;&amp;nbsp;to check the validity of input, and when they received bad input, most of the nodes in the network crashed.&lt;br /&gt;&lt;br /&gt;The Bitcoin Classic/Unlimited code is full of bad uses of &lt;i&gt;assert&lt;/i&gt;. The following examples are all from the file &lt;i&gt;main.cpp&lt;/i&gt;.&lt;br /&gt;&lt;br /&gt;&lt;a name=&#39;more&#39;&gt;&lt;/a&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;b&gt;Example #1&lt;/b&gt;:&amp;nbsp;&lt;a href=&quot;https://github.com/bitcoinclassic/bitcoinclassic/blob/04fbcbeb4412425f8d8dd5c38e8e74442e841b18/src/main.cpp#L1475&quot;&gt;this line of code&lt;/a&gt;:&lt;br /&gt;&lt;br /&gt;&lt;ol class=&quot;c&quot; style=&quot;background: rgb(247, 247, 247); color: #acacac; font-family: Consolas, Menlo, Monaco, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, monospace, serif; font-size: 12px; margin: 0px; padding: 0px 0px 0px 55px;&quot;&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background: rgb(248, 248, 248); border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span class=&quot;kw1&quot; style=&quot;color: #b1b100;&quot;&gt;if&lt;/span&gt;&amp;nbsp;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;nPos&amp;nbsp;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;&amp;gt;=&lt;/span&gt;&amp;nbsp;coins&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;-&amp;gt;&lt;/span&gt;vout.&lt;span class=&quot;me1&quot; style=&quot;color: #202020;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;nbsp;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;||&lt;/span&gt;&amp;nbsp;coins&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;-&amp;gt;&lt;/span&gt;vout&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;nPos&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;.&lt;span class=&quot;me1&quot; style=&quot;color: #202020;&quot;&gt;IsNull&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span class=&quot;kw3&quot; style=&quot;color: #000066;&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kw2&quot; style=&quot;color: black; font-weight: bold;&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&amp;nbsp;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;br /&gt;This use of assert is silly. The code should look like this:&lt;br /&gt;&lt;br /&gt;&lt;ol class=&quot;c&quot; style=&quot;background: rgb(247, 247, 247); color: #acacac; font-family: Consolas, Menlo, Monaco, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, monospace, serif; font-size: 12px; margin: 0px; padding: 0px 0px 0px 55px;&quot;&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span class=&quot;kw3&quot; style=&quot;color: #000066;&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;nPos&amp;nbsp;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;&amp;lt;&lt;/span&gt;&amp;nbsp;coins&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;-&amp;gt;&lt;/span&gt;vout.&lt;span class=&quot;me1&quot; style=&quot;color: #202020;&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;li2&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de2&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span class=&quot;kw3&quot; style=&quot;color: #000066;&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;!&lt;/span&gt;coins&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;-&amp;gt;&lt;/span&gt;vout&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;nPos&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;.&lt;span class=&quot;me1&quot; style=&quot;color: #202020;&quot;&gt;IsNull&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;br /&gt;This is the least of their problems. It understandable that as code ages, and things are added/changed, that odd looking code like this appears. But still, it&#39;s an example of wrong thinking about asserts. Among the problems this would cause is that if &lt;i&gt;asserts&lt;/i&gt;&amp;nbsp;were ever turned off, you&#39;d have to deal with dead code elimination warnings in static analyzers.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Example #2&lt;/b&gt;:&amp;nbsp;&lt;a href=&quot;https://github.com/bitcoinclassic/bitcoinclassic/blob/04fbcbeb4412425f8d8dd5c38e8e74442e841b18/src/main.cpp#L2386&quot;&gt;line of code&lt;/a&gt;:&lt;br /&gt;&lt;br /&gt;&lt;ol class=&quot;c&quot; style=&quot;background: rgb(247, 247, 247); color: #acacac; font-family: Consolas, Menlo, Monaco, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, monospace, serif; font-size: 12px; margin: 0px; padding: 0px 0px 0px 55px;&quot;&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background: rgb(248, 248, 248); border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span class=&quot;kw3&quot; style=&quot;color: #000066;&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;view.&lt;span class=&quot;me1&quot; style=&quot;color: #202020;&quot;&gt;Flush&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;br /&gt;The code within &lt;i&gt;assert&lt;/i&gt;&amp;nbsp;is supposed to only read values, not change values. In this example, the &lt;i&gt;Flush&lt;/i&gt;&amp;nbsp;function changes things. Normally, asserts are only compiled into &lt;i&gt;debug&lt;/i&gt; versions of the code, and removed for &lt;i&gt;release&lt;/i&gt;&amp;nbsp;versions. However, doing so for Bitcoin will cause the program to behave incorrectly, as things like the &lt;i&gt;Flush()&lt;/i&gt; function are no longer called. That&#39;s why they put at the top of this code, to inform people that debug must be left on.&lt;br /&gt;&lt;br /&gt;&lt;ol class=&quot;c&quot; style=&quot;background: rgb(247, 247, 247); color: #acacac; font-family: Consolas, Menlo, Monaco, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, monospace, serif; font-size: 12px; margin: 0px; padding: 0px 0px 0px 55px;&quot;&gt;&lt;li class=&quot;li2&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de2&quot; style=&quot;background: rgb(248, 248, 248); border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&lt;span class=&quot;co2&quot; style=&quot;color: #339933;&quot;&gt;#if defined(NDEBUG)&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&lt;span class=&quot;co2&quot; style=&quot;color: #339933;&quot;&gt;# error &quot;Bitcoin cannot be compiled without assertions.&quot;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&lt;span class=&quot;co2&quot; style=&quot;color: #339933;&quot;&gt;#endif&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;b&gt;Example #3:&lt;/b&gt;&amp;nbsp;&lt;a href=&quot;https://github.com/bitcoinclassic/bitcoinclassic/blob/04fbcbeb4412425f8d8dd5c38e8e74442e841b18/src/main.cpp#L2799&quot;&gt;line of code&lt;/a&gt;:&lt;br /&gt;&lt;br /&gt;&lt;ol class=&quot;c&quot; style=&quot;background: rgb(247, 247, 247); color: #acacac; font-family: Consolas, Menlo, Monaco, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, monospace, serif; font-size: 12px; margin: 0px; padding: 0px 0px 0px 55px;&quot;&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp; CBlockIndex&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;*&lt;/span&gt;&amp;nbsp;pindexNew&amp;nbsp;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt;&amp;nbsp;new CBlockIndex&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;block&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span class=&quot;kw3&quot; style=&quot;color: #000066;&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;pindexNew&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;br /&gt;The &lt;i&gt;new&lt;/i&gt;&amp;nbsp;operator never returns &lt;i&gt;NULL&lt;/i&gt;, but throws its own exception instead. Not only is this a misconception about what &lt;i&gt;new&lt;/i&gt;&amp;nbsp;does, it&#39;s also a misconception about &lt;i&gt;assert&lt;/i&gt;. The assert is supposed to check for bad code, not check errors.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;Example #4&lt;/b&gt;: &lt;a href=&quot;https://github.com/bitcoinclassic/bitcoinclassic/blob/04fbcbeb4412425f8d8dd5c38e8e74442e841b18/src/main.cpp#L4969&quot;&gt;line of code&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;ol class=&quot;c&quot; style=&quot;background: rgb(247, 247, 247); color: #acacac; font-family: Consolas, Menlo, Monaco, &amp;quot;Lucida Console&amp;quot;, &amp;quot;Liberation Mono&amp;quot;, &amp;quot;DejaVu Sans Mono&amp;quot;, &amp;quot;Bitstream Vera Sans Mono&amp;quot;, monospace, serif; font-size: 12px; margin: 0px; padding: 0px 0px 0px 55px;&quot;&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background: rgb(248, 248, 248); border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp; BlockMap&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;me2&quot; style=&quot;color: #202020;&quot;&gt;iterator&lt;/span&gt;&amp;nbsp;mi&amp;nbsp;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt;&amp;nbsp;mapBlockIndex.&lt;span class=&quot;me1&quot; style=&quot;color: #202020;&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;inv.&lt;span class=&quot;me1&quot; style=&quot;color: #202020;&quot;&gt;hash&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;li2&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de2&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp; CBlock block&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span class=&quot;kw4&quot; style=&quot;color: #993333;&quot;&gt;const&lt;/span&gt;&amp;nbsp;Consensus&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;me2&quot; style=&quot;color: #202020;&quot;&gt;Params&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;&amp;amp;&lt;/span&gt;&amp;nbsp;consensusParams&amp;nbsp;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;=&lt;/span&gt;&amp;nbsp;Params&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;.&lt;span class=&quot;me1&quot; style=&quot;color: #202020;&quot;&gt;GetConsensus&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span class=&quot;kw1&quot; style=&quot;color: #b1b100;&quot;&gt;if&lt;/span&gt;&amp;nbsp;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;!&lt;/span&gt;ReadBlockFromDisk&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;block&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&amp;nbsp;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;*&lt;/span&gt;mi&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;.&lt;span class=&quot;me1&quot; style=&quot;color: #202020;&quot;&gt;second&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&amp;nbsp;consensusParams&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;li1&quot; style=&quot;background: rgb(255, 255, 255); margin: 0px 0px 0px -6px; user-select: none;&quot;&gt;&lt;div class=&quot;de1&quot; style=&quot;background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial; background-position: initial; background-repeat: initial; background-size: initial; border-left: 1px solid rgb(221, 221, 221); color: #333333; margin: 0px 0px 0px -7px; padding: 0px 8px; position: relative; user-select: text; vertical-align: top;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span class=&quot;kw3&quot; style=&quot;color: #000066;&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;st0&quot; style=&quot;color: red;&quot;&gt;&quot;cannot load block from disk&quot;&lt;/span&gt;&lt;span class=&quot;br0&quot; style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sy0&quot; style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ol&gt;&lt;br /&gt;This is the feature that crashed Bitcoin Unlimited, and would also crash main Bitcoin nodes that use the &quot;XTHIN&quot; feature. The problem comes from parsing input (&lt;i&gt;inv.hash&lt;/i&gt;). If the parsed input is bad, then the block won&#39;t exist on the disk, and the assert will fail, and the program will crash.&lt;br /&gt;&lt;br /&gt;Again, &lt;i&gt;assert&lt;/i&gt;&amp;nbsp;is for checking for bad code that leads to impossible conditions, not checking errors in input, or checking errors in system functions.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;b&gt;Conclusion&lt;/b&gt;&lt;br /&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;The above examples were taken from only one file in the Bitcoin Classic source code. They demonstrate the typically wrong ways bad programmers use asserts. It&#39;d be a great example to show students of programming how not to write bad code.&lt;br /&gt;&lt;br /&gt;More generally, though, it shows why there&#39;s a difference between 1x and 10x programmers. 1x programmers, like those writing Bitcoin code, make the typical mistake of treating &lt;i&gt;assert()&lt;/i&gt;&amp;nbsp;as error checking. The nuance of &lt;i&gt;assert&lt;/i&gt;&amp;nbsp;is lost on them.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;hr /&gt;&lt;br /&gt;&lt;b&gt;Updated&lt;/b&gt;&amp;nbsp;to reflect that I&#39;m refering to the &quot;Bitcoin Classic&quot; source code, which isn&#39;t the &quot;Bitcoin Core&quot; source code. However, all the problems above appear to also be problems in the Bitcoin Core source code.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;</content><link rel='replies' type='application/atom+xml' href='http://blog.erratasec.com/feeds/3784476047393286481/comments/default' title='Post Comments'/><link rel='replies' type='text/html' href='http://www.blogger.com/comment.g?blogID=37798047&amp;postID=3784476047393286481' title='8 Comments'/><link rel='edit' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/3784476047393286481'/><link rel='self' type='application/atom+xml' href='http://www.blogger.com/feeds/37798047/posts/default/3784476047393286481'/><link rel='alternate' type='text/html' href='http://blog.erratasec.com/2017/03/assert-in-hands-of-bad-coders.html' title='Assert() in the hands of bad coders'/><author><name>Robert Graham</name><uri>http://www.blogger.com/profile/09879238874208877740</uri><email>noreply@blogger.com</email><gd:image rel='http://schemas.google.com/g/2005#thumbnail' width='26' height='32' src='http://4.bp.blogspot.com/_TJ2XNCjin0s/Sxn5QN4EbyI/AAAAAAAAAK4/MNL1by-0Mr4/S220/robertgraham.jpg'/></author><thr:total>8</thr:total></entry></feed>
